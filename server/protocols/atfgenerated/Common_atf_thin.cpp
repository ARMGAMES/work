/**
 * Common_atf_thin.cpp
 *
 * This file was auto-generated from Common_atf.txt by ATF protocol generator. 
 * Do not edit this file directly!
 *
 * Generator used the following keys: -genMoveConstructor -thin Common_atf.txt
 */
 
#include "Common_atf_thin.h"

//=================================================================
//                    ConvRatesAndMarginsStruct
//=================================================================

CommonThin::AtfShared::ConvRatesAndMarginsStruct::ConvRatesAndMarginsStruct()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::ConvRatesAndMarginsStruct::ConvRatesAndMarginsStruct(ConvRatesAndMarginsStruct&& _o)
	: rateSrc(std::move(_o.rateSrc))
	, rateDst(std::move(_o.rateDst))
	, rateMid(std::move(_o.rateMid))
	, rateFin(std::move(_o.rateFin))
	, mgnVal(std::move(_o.mgnVal))
	, amtMgnSrc(std::move(_o.amtMgnSrc))
	, amtMgnDst(std::move(_o.amtMgnDst))
	, amtMgnUS(std::move(_o.amtMgnUS))
	, curSrc(std::move(_o.curSrc))
	, amtSrc(std::move(_o.amtSrc))
	, amtSrcUS(std::move(_o.amtSrcUS))
	, curDst(std::move(_o.curDst))
	, amtDst(std::move(_o.amtDst))
	, amtDstNoMgn(std::move(_o.amtDstNoMgn))
	, amtDstUS(std::move(_o.amtDstUS))
	, intActionType(std::move(_o.intActionType))
{
}

CommonThin::AtfShared::ConvRatesAndMarginsStruct& CommonThin::AtfShared::ConvRatesAndMarginsStruct::operator=(ConvRatesAndMarginsStruct&& _o)
{
	if(this != &_o)
	{
		rateSrc = std::move(_o.rateSrc);
		rateDst = std::move(_o.rateDst);
		rateMid = std::move(_o.rateMid);
		rateFin = std::move(_o.rateFin);
		mgnVal = std::move(_o.mgnVal);
		amtMgnSrc = std::move(_o.amtMgnSrc);
		amtMgnDst = std::move(_o.amtMgnDst);
		amtMgnUS = std::move(_o.amtMgnUS);
		curSrc = std::move(_o.curSrc);
		amtSrc = std::move(_o.amtSrc);
		amtSrcUS = std::move(_o.amtSrcUS);
		curDst = std::move(_o.curDst);
		amtDst = std::move(_o.amtDst);
		amtDstNoMgn = std::move(_o.amtDstNoMgn);
		amtDstUS = std::move(_o.amtDstUS);
		intActionType = std::move(_o.intActionType);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::ConvRatesAndMarginsStruct::clear()
{
	rateSrc = 0;
	rateDst = 0;
	rateMid = 0;
	rateFin = 0;
	mgnVal = 0;
	amtMgnSrc = 0;
	amtMgnDst = 0;
	amtMgnUS = 0;
	curSrc.clear();
	amtSrc = 0;
	amtSrcUS = 0;
	curDst.clear();
	amtDst = 0;
	amtDstNoMgn = 0;
	amtDstUS = 0;
	intActionType = 0;
}

bool CommonThin::AtfShared::ConvRatesAndMarginsStruct::equals(const ConvRatesAndMarginsStruct& _o) const
{
	return rateSrc == _o.rateSrc &&
		rateDst == _o.rateDst &&
		rateMid == _o.rateMid &&
		rateFin == _o.rateFin &&
		mgnVal == _o.mgnVal &&
		amtMgnSrc == _o.amtMgnSrc &&
		amtMgnDst == _o.amtMgnDst &&
		amtMgnUS == _o.amtMgnUS &&
		curSrc.equals(_o.curSrc) &&
		amtSrc == _o.amtSrc &&
		amtSrcUS == _o.amtSrcUS &&
		curDst.equals(_o.curDst) &&
		amtDst == _o.amtDst &&
		amtDstNoMgn == _o.amtDstNoMgn &&
		amtDstUS == _o.amtDstUS &&
		intActionType == _o.intActionType;
}

const char *CommonThin::AtfShared::ConvRatesAndMarginsStruct::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("rateSrc=");
	_buf.appendUint64(rateSrc);
	_buf.append(',');
	_buf.append("rateDst=");
	_buf.appendUint64(rateDst);
	_buf.append(',');
	_buf.append("rateMid=");
	_buf.appendUint64(rateMid);
	_buf.append(',');
	_buf.append("rateFin=");
	_buf.appendUint64(rateFin);
	_buf.append(',');
	_buf.append("mgnVal=");
	_buf.appendInt(mgnVal);
	_buf.append(',');
	_buf.append("amtMgnSrc=");
	_buf.appendInt(amtMgnSrc);
	_buf.append(',');
	_buf.append("amtMgnDst=");
	_buf.appendInt(amtMgnDst);
	_buf.append(',');
	_buf.append("amtMgnUS=");
	_buf.appendInt(amtMgnUS);
	_buf.append(',');
	_buf.append("curSrc=");
	_buf.append(curSrc);
	_buf.append(',');
	_buf.append("amtSrc=");
	_buf.appendInt(amtSrc);
	_buf.append(',');
	_buf.append("amtSrcUS=");
	_buf.appendInt(amtSrcUS);
	_buf.append(',');
	_buf.append("curDst=");
	_buf.append(curDst);
	_buf.append(',');
	_buf.append("amtDst=");
	_buf.appendInt64(amtDst);
	_buf.append(',');
	_buf.append("amtDstNoMgn=");
	_buf.appendInt64(amtDstNoMgn);
	_buf.append(',');
	_buf.append("amtDstUS=");
	_buf.appendInt(amtDstUS);
	_buf.append(',');
	_buf.append("intActionType=");
	_buf.appendUint(intActionType);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::ConvRatesAndMarginsStruct::composeMsg(CommMsgBody& _msg) const
{
	_msg.composeUINT64(rateSrc);
	_msg.composeUINT64(rateDst);
	_msg.composeUINT64(rateMid);
	_msg.composeUINT64(rateFin);
	_msg.composeINT32(mgnVal);
	_msg.composeINT32(amtMgnSrc);
	_msg.composeINT32(amtMgnDst);
	_msg.composeINT32(amtMgnUS);
	_msg.composeString(curSrc);
	_msg.composeINT32(amtSrc);
	_msg.composeINT32(amtSrcUS);
	_msg.composeString(curDst);
	_msg.composeINT64(amtDst);
	_msg.composeINT64(amtDstNoMgn);
	_msg.composeINT32(amtDstUS);
	_msg.composeUINT32(intActionType);
}

void CommonThin::AtfShared::ConvRatesAndMarginsStruct::parseMsg(CommMsgParser& _parser)
{
	_parser.parseUINT64(rateSrc);
	_parser.parseUINT64(rateDst);
	_parser.parseUINT64(rateMid);
	_parser.parseUINT64(rateFin);
	_parser.parseINT32(mgnVal);
	_parser.parseINT32(amtMgnSrc);
	_parser.parseINT32(amtMgnDst);
	_parser.parseINT32(amtMgnUS);
	_parser.parseStringP(curSrc);
	_parser.parseINT32(amtSrc);
	_parser.parseINT32(amtSrcUS);
	_parser.parseStringP(curDst);
	_parser.parseINT64(amtDst);
	_parser.parseINT64(amtDstNoMgn);
	_parser.parseINT32(amtDstUS);
	_parser.parseUINT32(intActionType);
}

/*static*/ void CommonThin::AtfShared::ConvRatesAndMarginsStruct::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	const char *_dummy = "";
	UINT64 rateSrc; _parser.parseUINT64(rateSrc);
	AtfValidator::validateUint(_descr, "rateSrc", rateSrc, _checker, __FILE__, __LINE__);
	UINT64 rateDst; _parser.parseUINT64(rateDst);
	AtfValidator::validateUint(_descr, "rateDst", rateDst, _checker, __FILE__, __LINE__);
	UINT64 rateMid; _parser.parseUINT64(rateMid);
	AtfValidator::validateUint(_descr, "rateMid", rateMid, _checker, __FILE__, __LINE__);
	UINT64 rateFin; _parser.parseUINT64(rateFin);
	AtfValidator::validateUint(_descr, "rateFin", rateFin, _checker, __FILE__, __LINE__);
	INT32 mgnVal; _parser.parseINT32(mgnVal);
	AtfValidator::validateInt(_descr, "mgnVal", mgnVal, _checker, __FILE__, __LINE__);
	INT32 amtMgnSrc; _parser.parseINT32(amtMgnSrc);
	AtfValidator::validateInt(_descr, "amtMgnSrc", amtMgnSrc, _checker, __FILE__, __LINE__);
	INT32 amtMgnDst; _parser.parseINT32(amtMgnDst);
	AtfValidator::validateInt(_descr, "amtMgnDst", amtMgnDst, _checker, __FILE__, __LINE__);
	INT32 amtMgnUS; _parser.parseINT32(amtMgnUS);
	AtfValidator::validateInt(_descr, "amtMgnUS", amtMgnUS, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "curSrc"); size_t szCurSrc = strlen(_dummy);
	AtfValidator::validateInt(_descr, "curSrc", szCurSrc, _checker, __FILE__, __LINE__);
	INT32 amtSrc; _parser.parseINT32(amtSrc);
	AtfValidator::validateInt(_descr, "amtSrc", amtSrc, _checker, __FILE__, __LINE__);
	INT32 amtSrcUS; _parser.parseINT32(amtSrcUS);
	AtfValidator::validateInt(_descr, "amtSrcUS", amtSrcUS, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "curDst"); size_t szCurDst = strlen(_dummy);
	AtfValidator::validateInt(_descr, "curDst", szCurDst, _checker, __FILE__, __LINE__);
	INT64 amtDst; _parser.parseINT64(amtDst);
	AtfValidator::validateInt(_descr, "amtDst", amtDst, _checker, __FILE__, __LINE__);
	INT64 amtDstNoMgn; _parser.parseINT64(amtDstNoMgn);
	AtfValidator::validateInt(_descr, "amtDstNoMgn", amtDstNoMgn, _checker, __FILE__, __LINE__);
	INT32 amtDstUS; _parser.parseINT32(amtDstUS);
	AtfValidator::validateInt(_descr, "amtDstUS", amtDstUS, _checker, __FILE__, __LINE__);
	UINT32 intActionType; _parser.parseUINT32(intActionType);
	AtfValidator::validateInt(_descr, "intActionType", intActionType, _checker, __FILE__, __LINE__);
}

//=================================================================
//                    CurrencyContextOptionalMsgBody
//=================================================================

CommonThin::AtfShared::CurrencyContextOptionalMsgBody::CurrencyContextOptionalMsgBody()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::CurrencyContextOptionalMsgBody::CurrencyContextOptionalMsgBody(CurrencyContextOptionalMsgBody&& _o)
	: srvTime(std::move(_o.srvTime))
	, convRatesAndMargins(std::move(_o.convRatesAndMargins))
{
}

CommonThin::AtfShared::CurrencyContextOptionalMsgBody& CommonThin::AtfShared::CurrencyContextOptionalMsgBody::operator=(CurrencyContextOptionalMsgBody&& _o)
{
	if(this != &_o)
	{
		srvTime = std::move(_o.srvTime);
		convRatesAndMargins = std::move(_o.convRatesAndMargins);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::CurrencyContextOptionalMsgBody::clear()
{
	srvTime.setNull();
	convRatesAndMargins.clear();
}

bool CommonThin::AtfShared::CurrencyContextOptionalMsgBody::equals(const CurrencyContextOptionalMsgBody& _o) const
{
	return srvTime.equals(_o.srvTime) &&
		convRatesAndMargins.equals(_o.convRatesAndMargins);
}

const char *CommonThin::AtfShared::CurrencyContextOptionalMsgBody::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("srvTime=");
	ThinAtf::AtfTempl<SrvTime>::ToTraceString(_buf, srvTime);
	_buf.append(',');
	_buf.append("convRatesAndMargins=");
	convRatesAndMargins.toTraceString(_buf);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::CurrencyContextOptionalMsgBody::composeMsg(CommMsgBody& _msg) const
{
	CommMsgBody _body;
	//if (!equals(CurrencyContextOptionalMsgBody())) // not empty
	{
		_body.composeSrvTime(srvTime);
		convRatesAndMargins.composeMsg(_body);
	}

	_msg.composeMsgBody(_body);
}

void CommonThin::AtfShared::CurrencyContextOptionalMsgBody::parseMsg(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);

	CommMsgParser _parser0(_body);
	if(_parser0.parseEnded()) return;
	_parser0.parseSrvTime(srvTime);
	convRatesAndMargins.parseMsg(_parser0);
}

/*static*/ void CommonThin::AtfShared::CurrencyContextOptionalMsgBody::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	if(_parser0.parseEnded()) return;
	SrvTime srvTime; _parser0.parseSrvTime(srvTime);
	AtfValidator::validateSrvDateTime(_descr, "srvTime", srvTime, _checker, __FILE__, __LINE__);
	PString _descbuf;
	int szConvRatesAndMargins = ThinAtf::LAtfVector< ConvRatesAndMarginsStruct, 4 >::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("convRatesAndMargins"), _fieldsWithUnparsedContent);
	AtfValidator::validateInt(_descr, "convRatesAndMargins", szConvRatesAndMargins, _checker, __FILE__, __LINE__);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

//=================================================================
//                    UserTicketDataBase
//=================================================================

CommonThin::AtfShared::UserTicketDataBase::UserTicketDataBase()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::UserTicketDataBase::UserTicketDataBase(UserTicketDataBase&& _o)
	: admissionId(std::move(_o.admissionId))
	, reserved(std::move(_o.reserved))
{
}

CommonThin::AtfShared::UserTicketDataBase& CommonThin::AtfShared::UserTicketDataBase::operator=(UserTicketDataBase&& _o)
{
	if(this != &_o)
	{
		admissionId = std::move(_o.admissionId);
		reserved = std::move(_o.reserved);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::UserTicketDataBase::clear()
{
	admissionId.clear();
	reserved = 0;
}

bool CommonThin::AtfShared::UserTicketDataBase::equals(const UserTicketDataBase& _o) const
{
	return admissionId.equals(_o.admissionId) &&
		reserved == _o.reserved;
}

const char *CommonThin::AtfShared::UserTicketDataBase::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("admissionId=");
	_buf.append(admissionId);
	_buf.append(',');
	_buf.append("reserved=");
	_buf.appendUint(reserved);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::UserTicketDataBase::composeMsg(CommMsgBody& _msg) const
{
	_msg.composeString(admissionId);
	_msg.composeUINT32(reserved);
}

void CommonThin::AtfShared::UserTicketDataBase::parseMsg(CommMsgParser& _parser)
{
	_parser.parseStringP(admissionId);
	_parser.parseUINT32(reserved);
}

/*static*/ void CommonThin::AtfShared::UserTicketDataBase::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	const char *_dummy = "";
	_parser.parseStringN(_dummy, 0, "admissionId"); size_t szAdmissionId = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "admissionId", szAdmissionId, ATF_TICKET_ADMISSION_MAX_LENGTH, _checker, __FILE__, __LINE__);
	UINT32 reserved; _parser.parseUINT32(reserved);
	AtfValidator::validateIntRange(_descr, "reserved", reserved, 0, ATF_MAX_RESERVED_TICKETS, _checker, __FILE__, __LINE__);
}

//=================================================================
//                    LoginExtra
//=================================================================

// @Override
CommonThin::AtfShared::LoginExtra::LoginExtra( const ClientLoginExtras2& loginExtras_ )
{
	macAddr = loginExtras_.macAddr;
	volumeLabel = loginExtras_.volumeLabel;
	installId = loginExtras_.installId;
	userExtraId = loginExtras_.userExtraId;
	clientSiteId = loginExtras_.clientSiteId;
	clientPlatform = loginExtras_.clientPlatform;
	clientExtraInfoMask = loginExtras_.clientExtraInfoMask;
	clientType = loginExtras_.clientType;
	clientDevice = loginExtras_.clientDevice;
	clientVersion = loginExtras_.clientVersion;
	routerMacAddr = loginExtras_.routerMacAddr;
	clientBrand = loginExtras_.brandId;
	osId = loginExtras_.osId;
	appTypeId = loginExtras_.appTypeId;
	productId = loginExtras_.productId;
	installId2 = loginExtras_.installId2;
	operatorId = loginExtras_.operatorId;
	osVersion = loginExtras_.osVersion;
}

CommonThin::AtfShared::LoginExtra::LoginExtra()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::LoginExtra::LoginExtra(LoginExtra&& _o)
	: macAddr(std::move(_o.macAddr))
	, volumeLabel(std::move(_o.volumeLabel))
	, installId(std::move(_o.installId))
	, machineGuid(std::move(_o.machineGuid))
	, adapterGuid(std::move(_o.adapterGuid))
	, userExtraId(std::move(_o.userExtraId))
	, clientSiteId(std::move(_o.clientSiteId))
	, clientPlatform(std::move(_o.clientPlatform))
	, clientExtraInfoMask(std::move(_o.clientExtraInfoMask))
	, clientType(std::move(_o.clientType))
	, clientDevice(std::move(_o.clientDevice))
	, clientVersion(std::move(_o.clientVersion))
	, routerMacAddr(std::move(_o.routerMacAddr))
	, clientBrand(std::move(_o.clientBrand))
	, osId(std::move(_o.osId))
	, appTypeId(std::move(_o.appTypeId))
	, productId(std::move(_o.productId))
	, installId2(std::move(_o.installId2))
	, operatorId(std::move(_o.operatorId))
	, osVersion(std::move(_o.osVersion))
{
}

CommonThin::AtfShared::LoginExtra& CommonThin::AtfShared::LoginExtra::operator=(LoginExtra&& _o)
{
	if(this != &_o)
	{
		macAddr = std::move(_o.macAddr);
		volumeLabel = std::move(_o.volumeLabel);
		installId = std::move(_o.installId);
		machineGuid = std::move(_o.machineGuid);
		adapterGuid = std::move(_o.adapterGuid);
		userExtraId = std::move(_o.userExtraId);
		clientSiteId = std::move(_o.clientSiteId);
		clientPlatform = std::move(_o.clientPlatform);
		clientExtraInfoMask = std::move(_o.clientExtraInfoMask);
		clientType = std::move(_o.clientType);
		clientDevice = std::move(_o.clientDevice);
		clientVersion = std::move(_o.clientVersion);
		routerMacAddr = std::move(_o.routerMacAddr);
		clientBrand = std::move(_o.clientBrand);
		osId = std::move(_o.osId);
		appTypeId = std::move(_o.appTypeId);
		productId = std::move(_o.productId);
		installId2 = std::move(_o.installId2);
		operatorId = std::move(_o.operatorId);
		osVersion = std::move(_o.osVersion);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::LoginExtra::clear()
{
	macAddr.clear();
	volumeLabel.clear();
	installId.clear();
	machineGuid.clear();
	adapterGuid.clear();
	userExtraId.clear();
	clientSiteId = 0;
	clientPlatform = 0;
	clientExtraInfoMask = 0;
	clientType = ClientType_Unknown;
	clientDevice = ClientDevice_Unknown;
	clientVersion = 0;
	routerMacAddr = "";
	clientBrand = BrandType_PokerStars;
	osId = OSId_Unknown;
	appTypeId = AppTypeId_Unknown;
	productId = ProductId_Unknown;
	installId2 = "";
	operatorId = "";
	osVersion = "";
}

bool CommonThin::AtfShared::LoginExtra::equals(const LoginExtra& _o) const
{
	return macAddr.equals(_o.macAddr) &&
		volumeLabel.equals(_o.volumeLabel) &&
		installId.equals(_o.installId) &&
		machineGuid.equals(_o.machineGuid) &&
		adapterGuid.equals(_o.adapterGuid) &&
		userExtraId.equals(_o.userExtraId) &&
		clientSiteId == _o.clientSiteId &&
		clientPlatform == _o.clientPlatform &&
		clientExtraInfoMask == _o.clientExtraInfoMask &&
		clientType == _o.clientType &&
		clientDevice == _o.clientDevice &&
		clientVersion == _o.clientVersion &&
		routerMacAddr.equals(_o.routerMacAddr) &&
		clientBrand == _o.clientBrand &&
		osId == _o.osId &&
		appTypeId == _o.appTypeId &&
		productId == _o.productId &&
		installId2.equals(_o.installId2) &&
		operatorId.equals(_o.operatorId) &&
		osVersion.equals(_o.osVersion);
}

const char *CommonThin::AtfShared::LoginExtra::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("macAddr=");
	_buf.append(macAddr);
	_buf.append(',');
	_buf.append("volumeLabel=");
	_buf.append(volumeLabel);
	_buf.append(',');
	_buf.append("installId=");
	_buf.append(installId);
	_buf.append(',');
	_buf.append("machineGuid=");
	_buf.append(machineGuid);
	_buf.append(',');
	_buf.append("adapterGuid=");
	_buf.append(adapterGuid);
	_buf.append(',');
	_buf.append("userExtraId=");
	_buf.append(userExtraId);
	_buf.append(',');
	_buf.append("clientSiteId=");
	_buf.appendUint(clientSiteId);
	_buf.append(',');
	_buf.append("clientPlatform=");
	_buf.appendUint(clientPlatform);
	_buf.append(',');
	_buf.append("clientExtraInfoMask=");
	_buf.appendUint(clientExtraInfoMask);
	_buf.append(',');
	_buf.append("clientType=");
	_buf.appendUint(clientType);
	_buf.append(',');
	_buf.append("clientDevice=");
	_buf.appendUint(clientDevice);
	_buf.append(',');
	_buf.append("clientVersion=");
	_buf.appendUint(clientVersion);
	_buf.append(',');
	_buf.append("routerMacAddr=");
	_buf.append(routerMacAddr);
	_buf.append(',');
	_buf.append("clientBrand=");
	_buf.appendUint(clientBrand);
	_buf.append(',');
	_buf.append("osId=");
	_buf.appendUint(osId);
	_buf.append(',');
	_buf.append("appTypeId=");
	_buf.appendUint(appTypeId);
	_buf.append(',');
	_buf.append("productId=");
	_buf.appendUint(productId);
	_buf.append(',');
	_buf.append("installId2=");
	_buf.append(installId2);
	_buf.append(',');
	_buf.append("operatorId=");
	_buf.append(operatorId);
	_buf.append(',');
	_buf.append("osVersion=");
	_buf.append(osVersion);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::LoginExtra::composeMsg(CommMsgBody& _msg) const
{
	CommMsgBody _body;
	//if (!equals(LoginExtra())) // not empty
	{
		_body.composeString(macAddr);
		_body.composeString(volumeLabel);
		_body.composeString(installId);
		_body.composeString(machineGuid);
		_body.composeString(adapterGuid);
		_body.composeString(userExtraId);
		_body.composeUINT32(clientSiteId);
		_body.composeUINT32(clientPlatform);
		_body.composeUINT32(clientExtraInfoMask);
		_body.composeUINT32(clientType);
		_body.composeUINT32(clientDevice);
		_body.composeUINT32(clientVersion);
		_body.composeString(routerMacAddr);
		_body.composeUINT32(clientBrand);
		_body.composeUINT32(osId);
		_body.composeUINT32(appTypeId);
		_body.composeUINT32(productId);
		_body.composeString(installId2);
		_body.composeString(operatorId);
		_body.composeString(osVersion);
	}

	_msg.composeMsgBody(_body);
}

void CommonThin::AtfShared::LoginExtra::parseMsg(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);

	CommMsgParser _parser0(_body);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringP(macAddr);
	_parser0.parseStringP(volumeLabel);
	_parser0.parseStringP(installId);
	_parser0.parseStringP(machineGuid);
	_parser0.parseStringP(adapterGuid);
	_parser0.parseStringP(userExtraId);
	_parser0.parseUINT32(clientSiteId);
	_parser0.parseUINT32(clientPlatform);
	_parser0.parseUINT32(clientExtraInfoMask);
	if(_parser0.parseEnded()) return;
	_parser0.parseUINT32(clientType);
	if(_parser0.parseEnded()) return;
	_parser0.parseUINT32(clientDevice);
	if(_parser0.parseEnded()) return;
	_parser0.parseUINT32(clientVersion);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringP(routerMacAddr);
	if(_parser0.parseEnded()) return;
	_parser0.parseUINT32(clientBrand);
	if(_parser0.parseEnded()) return;
	_parser0.parseUINT32(osId);
	_parser0.parseUINT32(appTypeId);
	_parser0.parseUINT32(productId);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringP(installId2);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringP(operatorId);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringP(osVersion);
}

/*static*/ void CommonThin::AtfShared::LoginExtra::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	const char *_dummy = "";
	if(_parser0.parseEnded()) return;
	_parser0.parseStringN(_dummy, 0, "macAddr"); size_t szMacAddr = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "macAddr", szMacAddr, MAC_ADDR_LEN, _checker, __FILE__, __LINE__);
	_parser0.parseStringN(_dummy, 0, "volumeLabel"); size_t szVolumeLabel = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "volumeLabel", szVolumeLabel, VOLUME_LABEL_LEN, _checker, __FILE__, __LINE__);
	_parser0.parseStringN(_dummy, 0, "installId"); size_t szInstallId = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "installId", szInstallId, USER_INSTALLID_LEN, _checker, __FILE__, __LINE__);
	_parser0.parseStringN(_dummy, 0, "machineGuid"); size_t szMachineGuid = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "machineGuid", szMachineGuid, 1000, _checker, __FILE__, __LINE__);
	_parser0.parseStringN(_dummy, 0, "adapterGuid"); size_t szAdapterGuid = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "adapterGuid", szAdapterGuid, 1000, _checker, __FILE__, __LINE__);
	_parser0.parseStringN(_dummy, 0, "userExtraId"); size_t szUserExtraId = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "userExtraId", szUserExtraId, 1000, _checker, __FILE__, __LINE__);
	UINT32 clientSiteId; _parser0.parseUINT32(clientSiteId);
	AtfValidator::validateIntRange(_descr, "clientSiteId", clientSiteId, PokerStars_SiteUnknown, PokerStars_Last, _checker, __FILE__, __LINE__);
	UINT32 clientPlatform; _parser0.parseUINT32(clientPlatform);
	AtfValidator::validateIntRange(_descr, "clientPlatform", clientPlatform, Client_UnknownPlatform, Client_Last, _checker, __FILE__, __LINE__);
	UINT32 clientExtraInfoMask; _parser0.parseUINT32(clientExtraInfoMask);
	AtfValidator::validateIntMax(_descr, "clientExtraInfoMask", clientExtraInfoMask, MAX_VALUE_clientExtraInfoMask, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	UINT32 clientType; _parser0.parseUINT32(clientType);
	AtfValidator::validateIntRange(_descr, "clientType", clientType, ClientType_Unknown, ClientType_Last, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	UINT32 clientDevice; _parser0.parseUINT32(clientDevice);
	AtfValidator::validateIntRange(_descr, "clientDevice", clientDevice, ClientDevice_Unknown, ClientDevice_Last, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	UINT32 clientVersion; _parser0.parseUINT32(clientVersion);
	AtfValidator::validateInt(_descr, "clientVersion", clientVersion, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringN(_dummy, 0, "routerMacAddr"); size_t szRouterMacAddr = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "routerMacAddr", szRouterMacAddr, MAC_ADDR_LEN, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	UINT32 clientBrand; _parser0.parseUINT32(clientBrand);
	AtfValidator::validateIntRange(_descr, "clientBrand", clientBrand, BrandType_None, BrandType_Last, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	UINT32 osId; _parser0.parseUINT32(osId);
	AtfValidator::validateIntRange(_descr, "osId", osId, OSId_Unknown, OsId_Last, _checker, __FILE__, __LINE__);
	UINT32 appTypeId; _parser0.parseUINT32(appTypeId);
	AtfValidator::validateIntRange(_descr, "appTypeId", appTypeId, AppTypeId_Unknown, AppTypeId_Last, _checker, __FILE__, __LINE__);
	UINT32 productId; _parser0.parseUINT32(productId);
	AtfValidator::validateIntRange(_descr, "productId", productId, ProductId_Unknown, ProductId_Last, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringN(_dummy, 0, "installId2"); size_t szInstallId2 = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "installId2", szInstallId2, 100, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringN(_dummy, 0, "operatorId"); size_t szOperatorId = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "operatorId", szOperatorId, 32, _checker, __FILE__, __LINE__);
	if(_parser0.parseEnded()) return;
	_parser0.parseStringN(_dummy, 0, "osVersion"); size_t szOsVersion = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "osVersion", szOsVersion, 20, _checker, __FILE__, __LINE__);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

//=================================================================
//                    UserPropertyBody
//=================================================================

CommonThin::AtfShared::UserPropertyBody::UserPropertyBody()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::UserPropertyBody::UserPropertyBody(UserPropertyBody&& _o)
	: propType(std::move(_o.propType))
	, propInt(std::move(_o.propInt))
	, propStr(std::move(_o.propStr))
	, propWhen(std::move(_o.propWhen))
{
}

CommonThin::AtfShared::UserPropertyBody& CommonThin::AtfShared::UserPropertyBody::operator=(UserPropertyBody&& _o)
{
	if(this != &_o)
	{
		propType = std::move(_o.propType);
		propInt = std::move(_o.propInt);
		propStr = std::move(_o.propStr);
		propWhen = std::move(_o.propWhen);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::UserPropertyBody::clear()
{
	propType = 0;
	propInt = 0;
	propStr.clear();
	propWhen.setNull();
}

bool CommonThin::AtfShared::UserPropertyBody::equals(const UserPropertyBody& _o) const
{
	return propType == _o.propType &&
		propInt == _o.propInt &&
		propStr.equals(_o.propStr) &&
		propWhen.equals(_o.propWhen);
}

const char *CommonThin::AtfShared::UserPropertyBody::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("propType=");
	_buf.appendInt(propType);
	_buf.append(',');
	_buf.append("propInt=");
	_buf.appendInt(propInt);
	_buf.append(',');
	_buf.append("propStr=");
	_buf.append(propStr);
	_buf.append(',');
	_buf.append("propWhen=");
	ThinAtf::AtfTempl<CommSrvTime>::ToTraceString(_buf, propWhen);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::UserPropertyBody::composeMsg(CommMsgBody& _msg) const
{
	CommMsgBody _body;
	//if (!equals(UserPropertyBody())) // not empty
	{
		_body.composeINT32(propType);
		_body.composeINT32(propInt);
		_body.composeString(propStr);
		_body.composeSrvTime(propWhen);
	}

	_msg.composeMsgBody(_body);
}

void CommonThin::AtfShared::UserPropertyBody::parseMsg(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);

	CommMsgParser _parser0(_body);
	_parser0.parseINT32(propType);
	_parser0.parseINT32(propInt);
	_parser0.parseStringP(propStr);
	_parser0.parseSrvTime(propWhen);
}

/*static*/ void CommonThin::AtfShared::UserPropertyBody::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	const char *_dummy = "";
	INT32 propType; _parser0.parseINT32(propType);
	AtfValidator::validateIntRange(_descr, "propType", propType, ePromoName, eClientCustomOptionsEnd, _checker, __FILE__, __LINE__);
	INT32 propInt; _parser0.parseINT32(propInt);
	AtfValidator::validateInt(_descr, "propInt", propInt, _checker, __FILE__, __LINE__);
	_parser0.parseStringN(_dummy, 0, "propStr"); size_t szPropStr = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "propStr", szPropStr, 10000, _checker, __FILE__, __LINE__);
	CommSrvTime propWhen; _parser0.parseSrvTime(propWhen);
	AtfValidator::validateSrvDateTime(_descr, "propWhen", propWhen, _checker, __FILE__, __LINE__);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

//=================================================================
//                    UserPropertyLegacy
//=================================================================

CommonThin::AtfShared::UserPropertyLegacy::UserPropertyLegacy()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::UserPropertyLegacy::UserPropertyLegacy(UserPropertyLegacy&& _o)
	: propType(std::move(_o.propType))
	, propInt(std::move(_o.propInt))
	, propStr(std::move(_o.propStr))
	, propWhen(std::move(_o.propWhen))
{
}

CommonThin::AtfShared::UserPropertyLegacy& CommonThin::AtfShared::UserPropertyLegacy::operator=(UserPropertyLegacy&& _o)
{
	if(this != &_o)
	{
		propType = std::move(_o.propType);
		propInt = std::move(_o.propInt);
		propStr = std::move(_o.propStr);
		propWhen = std::move(_o.propWhen);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::UserPropertyLegacy::clear()
{
	propType = 0;
	propInt = 0;
	propStr.clear();
	propWhen.setNull();
}

bool CommonThin::AtfShared::UserPropertyLegacy::equals(const UserPropertyLegacy& _o) const
{
	return propType == _o.propType &&
		propInt == _o.propInt &&
		propStr.equals(_o.propStr) &&
		propWhen.equals(_o.propWhen);
}

const char *CommonThin::AtfShared::UserPropertyLegacy::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("propType=");
	_buf.appendInt(propType);
	_buf.append(',');
	_buf.append("propInt=");
	_buf.appendInt(propInt);
	_buf.append(',');
	_buf.append("propStr=");
	_buf.append(propStr);
	_buf.append(',');
	_buf.append("propWhen=");
	ThinAtf::AtfTempl<CommSrvTime>::ToTraceString(_buf, propWhen);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::UserPropertyLegacy::composeMsg(CommMsgBody& _msg) const
{
	_msg.composeINT32(propType);
	_msg.composeINT32(propInt);
	_msg.composeString(propStr);
	_msg.composeSrvTime(propWhen);
}

void CommonThin::AtfShared::UserPropertyLegacy::parseMsg(CommMsgParser& _parser)
{
	_parser.parseINT32(propType);
	_parser.parseINT32(propInt);
	_parser.parseStringP(propStr);
	_parser.parseSrvTime(propWhen);
}

/*static*/ void CommonThin::AtfShared::UserPropertyLegacy::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	const char *_dummy = "";
	INT32 propType; _parser.parseINT32(propType);
	AtfValidator::validateIntRange(_descr, "propType", propType, ePromoName, eClientCustomOptionsEnd, _checker, __FILE__, __LINE__);
	INT32 propInt; _parser.parseINT32(propInt);
	AtfValidator::validateInt(_descr, "propInt", propInt, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "propStr"); size_t szPropStr = strlen(_dummy);
	AtfValidator::validateIntMax(_descr, "propStr", szPropStr, 10000, _checker, __FILE__, __LINE__);
	CommSrvTime propWhen; _parser.parseSrvTime(propWhen);
	AtfValidator::validateSrvDateTime(_descr, "propWhen", propWhen, _checker, __FILE__, __LINE__);
}

//=================================================================
//                    UserCurrencyAccount
//=================================================================

CommonThin::AtfShared::UserCurrencyAccount::UserCurrencyAccount()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::UserCurrencyAccount::UserCurrencyAccount(UserCurrencyAccount&& _o)
	: currency(std::move(_o.currency))
	, chips(std::move(_o.chips))
	, owedChips(std::move(_o.owedChips))
	, tChips(std::move(_o.tChips))
	, wChips(std::move(_o.wChips))
{
}

CommonThin::AtfShared::UserCurrencyAccount& CommonThin::AtfShared::UserCurrencyAccount::operator=(UserCurrencyAccount&& _o)
{
	if(this != &_o)
	{
		currency = std::move(_o.currency);
		chips = std::move(_o.chips);
		owedChips = std::move(_o.owedChips);
		tChips = std::move(_o.tChips);
		wChips = std::move(_o.wChips);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::UserCurrencyAccount::clear()
{
	currency = "USD";
	chips = 0;
	owedChips = 0;
	tChips = 0;
	wChips = 0;
}

bool CommonThin::AtfShared::UserCurrencyAccount::equals(const UserCurrencyAccount& _o) const
{
	return currency.equals(_o.currency) &&
		chips == _o.chips &&
		owedChips == _o.owedChips &&
		tChips == _o.tChips &&
		wChips == _o.wChips;
}

const char *CommonThin::AtfShared::UserCurrencyAccount::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("currency=");
	_buf.append(currency);
	_buf.append(',');
	_buf.append("chips=");
	_buf.appendInt(chips);
	_buf.append(',');
	_buf.append("owedChips=");
	_buf.appendInt(owedChips);
	_buf.append(',');
	_buf.append("tChips=");
	_buf.appendInt(tChips);
	_buf.append(',');
	_buf.append("wChips=");
	_buf.appendInt(wChips);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::UserCurrencyAccount::composeMsg(CommMsgBody& _msg) const
{
	_msg.composeString(currency);
	_msg.composeINT32(chips);
	_msg.composeINT32(owedChips);
	_msg.composeINT32(tChips);
	_msg.composeINT32(wChips);
}

void CommonThin::AtfShared::UserCurrencyAccount::parseMsg(CommMsgParser& _parser)
{
	_parser.parseStringP(currency);
	_parser.parseINT32(chips);
	_parser.parseINT32(owedChips);
	_parser.parseINT32(tChips);
	_parser.parseINT32(wChips);
}

/*static*/ void CommonThin::AtfShared::UserCurrencyAccount::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	const char *_dummy = "";
	_parser.parseStringN(_dummy, 0, "currency"); size_t szCurrency = strlen(_dummy);
	AtfValidator::validateInt(_descr, "currency", szCurrency, _checker, __FILE__, __LINE__);
	INT32 chips; _parser.parseINT32(chips);
	AtfValidator::validateInt(_descr, "chips", chips, _checker, __FILE__, __LINE__);
	INT32 owedChips; _parser.parseINT32(owedChips);
	AtfValidator::validateInt(_descr, "owedChips", owedChips, _checker, __FILE__, __LINE__);
	INT32 tChips; _parser.parseINT32(tChips);
	AtfValidator::validateInt(_descr, "tChips", tChips, _checker, __FILE__, __LINE__);
	INT32 wChips; _parser.parseINT32(wChips);
	AtfValidator::validateInt(_descr, "wChips", wChips, _checker, __FILE__, __LINE__);
}

//=================================================================
//                    UserCurrencyAccounts
//=================================================================

CommonThin::AtfShared::UserCurrencyAccounts::UserCurrencyAccounts()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::UserCurrencyAccounts::UserCurrencyAccounts(UserCurrencyAccounts&& _o)
	: defaultAccount(std::move(_o.defaultAccount))
	, exAccounts(std::move(_o.exAccounts))
{
}

CommonThin::AtfShared::UserCurrencyAccounts& CommonThin::AtfShared::UserCurrencyAccounts::operator=(UserCurrencyAccounts&& _o)
{
	if(this != &_o)
	{
		defaultAccount = std::move(_o.defaultAccount);
		exAccounts = std::move(_o.exAccounts);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::UserCurrencyAccounts::clear()
{
	defaultAccount.clear();
	exAccounts.clear();
}

bool CommonThin::AtfShared::UserCurrencyAccounts::equals(const UserCurrencyAccounts& _o) const
{
	return defaultAccount.equals(_o.defaultAccount) &&
		exAccounts.equals(_o.exAccounts);
}

const char *CommonThin::AtfShared::UserCurrencyAccounts::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("defaultAccount=");
	defaultAccount.toTraceString(_buf);
	_buf.append(',');
	_buf.append("exAccounts=");
	exAccounts.toTraceString(_buf);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::UserCurrencyAccounts::composeMsg(CommMsgBody& _msg) const
{
	defaultAccount.composeMsg(_msg);
	exAccounts.composeMsg(_msg);
}

void CommonThin::AtfShared::UserCurrencyAccounts::parseMsg(CommMsgParser& _parser)
{
	defaultAccount.parseMsg(_parser);
	exAccounts.parseMsg(_parser);
}

/*static*/ void CommonThin::AtfShared::UserCurrencyAccounts::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	PString _descbuf;
	UserCurrencyAccount::validateMsg(_parser, _checker, _descbuf.assign(_descr).append('.').append("defaultAccount"), _fieldsWithUnparsedContent);
	int szExAccounts = ThinAtf::LAtfVector< UserCurrencyAccount, 4 >::validateMsg(_parser, _checker, _descbuf.assign(_descr).append('.').append("exAccounts"), _fieldsWithUnparsedContent);
	AtfValidator::validateInt(_descr, "exAccounts", szExAccounts, _checker, __FILE__, __LINE__);
}

//=================================================================
//                    PaysystemMask
//=================================================================

CommonThin::AtfShared::PaysystemMask::PaysystemMask()
{
	clear();
}

void CommonThin::AtfShared::PaysystemMask::clear()
{
	mask = 0;
	mask2 = 0;
	mask3 = 0;
	mask4 = 0;
}

bool CommonThin::AtfShared::PaysystemMask::equals(const PaysystemMask& _o) const
{
	return mask == _o.mask &&
		mask2 == _o.mask2 &&
		mask3 == _o.mask3 &&
		mask4 == _o.mask4;
}

const char *CommonThin::AtfShared::PaysystemMask::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("mask=");
	_buf.appendUint(mask);
	_buf.append(',');
	_buf.append("mask2=");
	_buf.appendUint(mask2);
	_buf.append(',');
	_buf.append("mask3=");
	_buf.appendUint64(mask3);
	_buf.append(',');
	_buf.append("mask4=");
	_buf.appendUint64(mask4);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::PaysystemMask::composeMsg(CommMsgBody& _msg) const
{
	_msg.composeUINT32(mask);
	_msg.composeUINT32(mask2);
	_msg.composeUINT64(mask3);
	_msg.composeUINT64(mask4);
}

void CommonThin::AtfShared::PaysystemMask::parseMsg(CommMsgParser& _parser)
{
	_parser.parseUINT32(mask);
	_parser.parseUINT32(mask2);
	_parser.parseUINT64(mask3);
	_parser.parseUINT64(mask4);
}

/*static*/ void CommonThin::AtfShared::PaysystemMask::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	UINT32 mask; _parser.parseUINT32(mask);
	AtfValidator::validateInt(_descr, "mask", mask, _checker, __FILE__, __LINE__);
	UINT32 mask2; _parser.parseUINT32(mask2);
	AtfValidator::validateInt(_descr, "mask2", mask2, _checker, __FILE__, __LINE__);
	UINT64 mask3; _parser.parseUINT64(mask3);
	AtfValidator::validateUint(_descr, "mask3", mask3, _checker, __FILE__, __LINE__);
	UINT64 mask4; _parser.parseUINT64(mask4);
	AtfValidator::validateUint(_descr, "mask4", mask4, _checker, __FILE__, __LINE__);
}

//=================================================================
//                    PlayerPointsProgram
//=================================================================

CommonThin::AtfShared::PlayerPointsProgram::PlayerPointsProgram()
{
	clear();
}

void CommonThin::AtfShared::PlayerPointsProgram::clear()
{
	lt = 0;
	yr = 0;
	mo = 0;
	statusSet.setNull();
	milliCent = 0;
}

bool CommonThin::AtfShared::PlayerPointsProgram::equals(const PlayerPointsProgram& _o) const
{
	return lt == _o.lt &&
		yr == _o.yr &&
		mo == _o.mo &&
		statusSet.equals(_o.statusSet) &&
		milliCent == _o.milliCent;
}

const char *CommonThin::AtfShared::PlayerPointsProgram::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("lt=");
	_buf.appendInt64(lt);
	_buf.append(',');
	_buf.append("yr=");
	_buf.appendInt64(yr);
	_buf.append(',');
	_buf.append("mo=");
	_buf.appendInt64(mo);
	_buf.append(',');
	_buf.append("statusSet=");
	ThinAtf::AtfTempl<SrvDate>::ToTraceString(_buf, statusSet);
	_buf.append(',');
	_buf.append("milliCent=");
	_buf.appendInt(milliCent);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::PlayerPointsProgram::composeMsg(CommMsgBody& _msg) const
{
	_msg.composeINT64(lt);
	_msg.composeINT64(yr);
	_msg.composeINT64(mo);
	_msg.composeSrvDate(statusSet);
	_msg.composeINT32(milliCent);
}

void CommonThin::AtfShared::PlayerPointsProgram::parseMsg(CommMsgParser& _parser)
{
	_parser.parseINT64(lt);
	_parser.parseINT64(yr);
	_parser.parseINT64(mo);
	_parser.parseSrvDate(statusSet);
	_parser.parseINT32(milliCent);
}

/*static*/ void CommonThin::AtfShared::PlayerPointsProgram::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	INT64 lt; _parser.parseINT64(lt);
	AtfValidator::validateInt(_descr, "lt", lt, _checker, __FILE__, __LINE__);
	INT64 yr; _parser.parseINT64(yr);
	AtfValidator::validateInt(_descr, "yr", yr, _checker, __FILE__, __LINE__);
	INT64 mo; _parser.parseINT64(mo);
	AtfValidator::validateInt(_descr, "mo", mo, _checker, __FILE__, __LINE__);
	SrvDate statusSet; _parser.parseSrvDate(statusSet);
	AtfValidator::validateSrvDateTime(_descr, "statusSet", statusSet, _checker, __FILE__, __LINE__);
	INT32 milliCent; _parser.parseINT32(milliCent);
	AtfValidator::validateInt(_descr, "milliCent", milliCent, _checker, __FILE__, __LINE__);
}

//=================================================================
//                    User
//=================================================================

CommonThin::AtfShared::User::User()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::User::User(User&& _o)
	: id(std::move(_o.id))
	, dummy(std::move(_o.dummy))
	, privileges(std::move(_o.privileges))
	, chips_dummy(std::move(_o.chips_dummy))
	, playChips32(std::move(_o.playChips32))
	, tChips_dummy(std::move(_o.tChips_dummy))
	, wChips_dummy(std::move(_o.wChips_dummy))
	, fullName(std::move(_o.fullName))
	, email(std::move(_o.email))
	, addr_1(std::move(_o.addr_1))
	, addr_2(std::move(_o.addr_2))
	, city(std::move(_o.city))
	, state(std::move(_o.state))
	, country(std::move(_o.country))
	, zipCode(std::move(_o.zipCode))
	, userInstallId(std::move(_o.userInstallId))
	, imageId(std::move(_o.imageId))
	, flags(std::move(_o.flags))
	, prevUserId(std::move(_o.prevUserId))
	, fpp_(std::move(_o.fpp_))
	, ltFpp_(std::move(_o.ltFpp_))
	, unique(std::move(_o.unique))
	, registered(std::move(_o.registered))
	, userIntId(std::move(_o.userIntId))
	, category(std::move(_o.category))
	, phone(std::move(_o.phone))
	, firstDeposit(std::move(_o.firstDeposit))
	, hybridSiteId(std::move(_o.hybridSiteId))
	, sid(std::move(_o.sid))
	, visited(std::move(_o.visited))
	, fppCents_(std::move(_o.fppCents_))
	, vipStatus(std::move(_o.vipStatus))
	, vipCounter1_(std::move(_o.vipCounter1_))
	, vipCounter2_(std::move(_o.vipCounter2_))
	, vipStatusSet(std::move(_o.vipStatusSet))
	, firstTransfer(std::move(_o.firstTransfer))
	, owedChips_dummy(std::move(_o.owedChips_dummy))
	, depositMask32(std::move(_o.depositMask32))
	, birthDate(std::move(_o.birthDate))
	, locale(std::move(_o.locale))
	, privileges2(std::move(_o.privileges2))
	, clearedMask32(std::move(_o.clearedMask32))
	, emLocale(std::move(_o.emLocale))
	, encrPwd(std::move(_o.encrPwd))
	, timezone(std::move(_o.timezone))
	, currency_dummy(std::move(_o.currency_dummy))
	, firstName(std::move(_o.firstName))
	, lastName(std::move(_o.lastName))
	, fiscalCode(std::move(_o.fiscalCode))
	, licenseId(std::move(_o.licenseId))
	, gracePeriodUntil_dummy(std::move(_o.gracePeriodUntil_dummy))
	, flags2(std::move(_o.flags2))
	, ltFppCents_(std::move(_o.ltFppCents_))
	, vipCounter1Cents_(std::move(_o.vipCounter1Cents_))
	, vipCounter2Cents_(std::move(_o.vipCounter2Cents_))
	, adminFlags(std::move(_o.adminFlags))
	, overcreditMask64(std::move(_o.overcreditMask64))
	, originalUserIntId(std::move(_o.originalUserIntId))
	, balance(std::move(_o.balance))
	, depositMask64(std::move(_o.depositMask64))
	, clearedMask64(std::move(_o.clearedMask64))
	, sex(std::move(_o.sex))
	, normalizedUserId(std::move(_o.normalizedUserId))
	, mobile(std::move(_o.mobile))
	, licenseSpecificLimit1(std::move(_o.licenseSpecificLimit1))
	, licenseSpecificCounter2(std::move(_o.licenseSpecificCounter2))
	, depositMask(std::move(_o.depositMask))
	, clearedMask(std::move(_o.clearedMask))
	, overcreditMask(std::move(_o.overcreditMask))
	, vipCounter3InCents_(std::move(_o.vipCounter3InCents_))
	, beMoneyIn(std::move(_o.beMoneyIn))
	, beMoneyOut(std::move(_o.beMoneyOut))
	, licenseSpecificAmount3(std::move(_o.licenseSpecificAmount3))
	, vipStatusUntil(std::move(_o.vipStatusUntil))
	, platformsUsed(std::move(_o.platformsUsed))
	, facebookIntId(std::move(_o.facebookIntId))
	, playChips(std::move(_o.playChips))
	, blockingCode(std::move(_o.blockingCode))
	, idExtension(std::move(_o.idExtension))
	, privileges3(std::move(_o.privileges3))
	, cpp(std::move(_o.cpp))
	, spp(std::move(_o.spp))
	, flags3(std::move(_o.flags3))
	, brandsUsed(std::move(_o.brandsUsed))
	, nac2(std::move(_o.nac2))
	, visitedEx(std::move(_o.visitedEx))
	, regSiteId(std::move(_o.regSiteId))
	, operatorId(std::move(_o.operatorId))
	, promoName(std::move(_o.promoName))
{
}

CommonThin::AtfShared::User& CommonThin::AtfShared::User::operator=(User&& _o)
{
	if(this != &_o)
	{
		id = std::move(_o.id);
		dummy = std::move(_o.dummy);
		privileges = std::move(_o.privileges);
		chips_dummy = std::move(_o.chips_dummy);
		playChips32 = std::move(_o.playChips32);
		tChips_dummy = std::move(_o.tChips_dummy);
		wChips_dummy = std::move(_o.wChips_dummy);
		fullName = std::move(_o.fullName);
		email = std::move(_o.email);
		addr_1 = std::move(_o.addr_1);
		addr_2 = std::move(_o.addr_2);
		city = std::move(_o.city);
		state = std::move(_o.state);
		country = std::move(_o.country);
		zipCode = std::move(_o.zipCode);
		userInstallId = std::move(_o.userInstallId);
		imageId = std::move(_o.imageId);
		flags = std::move(_o.flags);
		prevUserId = std::move(_o.prevUserId);
		fpp_ = std::move(_o.fpp_);
		ltFpp_ = std::move(_o.ltFpp_);
		unique = std::move(_o.unique);
		registered = std::move(_o.registered);
		userIntId = std::move(_o.userIntId);
		category = std::move(_o.category);
		phone = std::move(_o.phone);
		firstDeposit = std::move(_o.firstDeposit);
		hybridSiteId = std::move(_o.hybridSiteId);
		sid = std::move(_o.sid);
		visited = std::move(_o.visited);
		fppCents_ = std::move(_o.fppCents_);
		vipStatus = std::move(_o.vipStatus);
		vipCounter1_ = std::move(_o.vipCounter1_);
		vipCounter2_ = std::move(_o.vipCounter2_);
		vipStatusSet = std::move(_o.vipStatusSet);
		firstTransfer = std::move(_o.firstTransfer);
		owedChips_dummy = std::move(_o.owedChips_dummy);
		depositMask32 = std::move(_o.depositMask32);
		birthDate = std::move(_o.birthDate);
		locale = std::move(_o.locale);
		privileges2 = std::move(_o.privileges2);
		clearedMask32 = std::move(_o.clearedMask32);
		emLocale = std::move(_o.emLocale);
		encrPwd = std::move(_o.encrPwd);
		timezone = std::move(_o.timezone);
		currency_dummy = std::move(_o.currency_dummy);
		firstName = std::move(_o.firstName);
		lastName = std::move(_o.lastName);
		fiscalCode = std::move(_o.fiscalCode);
		licenseId = std::move(_o.licenseId);
		gracePeriodUntil_dummy = std::move(_o.gracePeriodUntil_dummy);
		flags2 = std::move(_o.flags2);
		ltFppCents_ = std::move(_o.ltFppCents_);
		vipCounter1Cents_ = std::move(_o.vipCounter1Cents_);
		vipCounter2Cents_ = std::move(_o.vipCounter2Cents_);
		adminFlags = std::move(_o.adminFlags);
		overcreditMask64 = std::move(_o.overcreditMask64);
		originalUserIntId = std::move(_o.originalUserIntId);
		balance = std::move(_o.balance);
		depositMask64 = std::move(_o.depositMask64);
		clearedMask64 = std::move(_o.clearedMask64);
		sex = std::move(_o.sex);
		normalizedUserId = std::move(_o.normalizedUserId);
		mobile = std::move(_o.mobile);
		licenseSpecificLimit1 = std::move(_o.licenseSpecificLimit1);
		licenseSpecificCounter2 = std::move(_o.licenseSpecificCounter2);
		depositMask = std::move(_o.depositMask);
		clearedMask = std::move(_o.clearedMask);
		overcreditMask = std::move(_o.overcreditMask);
		vipCounter3InCents_ = std::move(_o.vipCounter3InCents_);
		beMoneyIn = std::move(_o.beMoneyIn);
		beMoneyOut = std::move(_o.beMoneyOut);
		licenseSpecificAmount3 = std::move(_o.licenseSpecificAmount3);
		vipStatusUntil = std::move(_o.vipStatusUntil);
		platformsUsed = std::move(_o.platformsUsed);
		facebookIntId = std::move(_o.facebookIntId);
		playChips = std::move(_o.playChips);
		blockingCode = std::move(_o.blockingCode);
		idExtension = std::move(_o.idExtension);
		privileges3 = std::move(_o.privileges3);
		cpp = std::move(_o.cpp);
		spp = std::move(_o.spp);
		flags3 = std::move(_o.flags3);
		brandsUsed = std::move(_o.brandsUsed);
		nac2 = std::move(_o.nac2);
		visitedEx = std::move(_o.visitedEx);
		regSiteId = std::move(_o.regSiteId);
		operatorId = std::move(_o.operatorId);
		promoName = std::move(_o.promoName);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::User::clear()
{
	id.clear();
	dummy.clear();
	privileges = 0;
	chips_dummy = 0;
	playChips32 = 0;
	tChips_dummy = 0;
	wChips_dummy = 0;
	fullName.clear();
	email.clear();
	addr_1.clear();
	addr_2.clear();
	city.clear();
	state.clear();
	country.clear();
	zipCode.clear();
	userInstallId.clear();
	imageId = 0;
	flags = 0;
	prevUserId.clear();
	fpp_ = 0;
	ltFpp_ = 0;
	unique = 0;
	registered.setNull();
	userIntId = 0;
	category.clear();
	phone.clear();
	firstDeposit.setNull();
	hybridSiteId = 0;
	sid.clear();
	visited = 0;
	fppCents_ = 0;
	vipStatus = 0;
	vipCounter1_ = 0;
	vipCounter2_ = 0;
	vipStatusSet.setNull();
	firstTransfer.setNull();
	owedChips_dummy = 0;
	depositMask32 = 0;
	birthDate.setNull();
	locale = 0;
	privileges2 = 0;
	clearedMask32 = 0;
	emLocale = 0;
	encrPwd.clear();
	timezone = 0;
	currency_dummy.clear();
	firstName.clear();
	lastName.clear();
	fiscalCode.clear();
	licenseId = 0;
	gracePeriodUntil_dummy.setNull();
	flags2 = 0;
	ltFppCents_ = 0;
	vipCounter1Cents_ = 0;
	vipCounter2Cents_ = 0;
	adminFlags = 0;
	overcreditMask64 = 0;
	originalUserIntId = 0;
	balance.clear();
	depositMask64 = 0;
	clearedMask64 = 0;
	sex.clear();
	normalizedUserId.clear();
	mobile.clear();
	licenseSpecificLimit1 = 0;
	licenseSpecificCounter2 = 0;
	depositMask.clear();
	clearedMask.clear();
	overcreditMask.clear();
	vipCounter3InCents_ = 0;
	beMoneyIn = 0;
	beMoneyOut = 0;
	licenseSpecificAmount3 = 0;
	vipStatusUntil.setNull();
	platformsUsed = 0;
	facebookIntId = 0;
	playChips = 0;
	blockingCode = 0;
	idExtension.clear();
	privileges3 = 0;
	cpp.clear();
	spp.clear();
	flags3 = 0;
	brandsUsed = 0;
	nac2 = 0;
	visitedEx.clear();
	regSiteId = 0;
	operatorId = 0;
	promoName.clear();
}

bool CommonThin::AtfShared::User::equals(const User& _o) const
{
	return id.equals(_o.id) &&
		dummy.equals(_o.dummy) &&
		privileges == _o.privileges &&
		chips_dummy == _o.chips_dummy &&
		playChips32 == _o.playChips32 &&
		tChips_dummy == _o.tChips_dummy &&
		wChips_dummy == _o.wChips_dummy &&
		fullName.equals(_o.fullName) &&
		email.equals(_o.email) &&
		addr_1.equals(_o.addr_1) &&
		addr_2.equals(_o.addr_2) &&
		city.equals(_o.city) &&
		state.equals(_o.state) &&
		country.equals(_o.country) &&
		zipCode.equals(_o.zipCode) &&
		userInstallId.equals(_o.userInstallId) &&
		imageId == _o.imageId &&
		flags == _o.flags &&
		prevUserId.equals(_o.prevUserId) &&
		fpp_ == _o.fpp_ &&
		ltFpp_ == _o.ltFpp_ &&
		unique == _o.unique &&
		registered.equals(_o.registered) &&
		userIntId == _o.userIntId &&
		category.equals(_o.category) &&
		phone.equals(_o.phone) &&
		firstDeposit.equals(_o.firstDeposit) &&
		hybridSiteId == _o.hybridSiteId &&
		sid.equals(_o.sid) &&
		visited == _o.visited &&
		fppCents_ == _o.fppCents_ &&
		vipStatus == _o.vipStatus &&
		vipCounter1_ == _o.vipCounter1_ &&
		vipCounter2_ == _o.vipCounter2_ &&
		vipStatusSet.equals(_o.vipStatusSet) &&
		firstTransfer.equals(_o.firstTransfer) &&
		owedChips_dummy == _o.owedChips_dummy &&
		depositMask32 == _o.depositMask32 &&
		birthDate.equals(_o.birthDate) &&
		locale == _o.locale &&
		privileges2 == _o.privileges2 &&
		clearedMask32 == _o.clearedMask32 &&
		emLocale == _o.emLocale &&
		encrPwd.equals(_o.encrPwd) &&
		timezone == _o.timezone &&
		currency_dummy.equals(_o.currency_dummy) &&
		firstName.equals(_o.firstName) &&
		lastName.equals(_o.lastName) &&
		fiscalCode.equals(_o.fiscalCode) &&
		licenseId == _o.licenseId &&
		gracePeriodUntil_dummy.equals(_o.gracePeriodUntil_dummy) &&
		flags2 == _o.flags2 &&
		ltFppCents_ == _o.ltFppCents_ &&
		vipCounter1Cents_ == _o.vipCounter1Cents_ &&
		vipCounter2Cents_ == _o.vipCounter2Cents_ &&
		adminFlags == _o.adminFlags &&
		overcreditMask64 == _o.overcreditMask64 &&
		originalUserIntId == _o.originalUserIntId &&
		balance.equals(_o.balance) &&
		depositMask64 == _o.depositMask64 &&
		clearedMask64 == _o.clearedMask64 &&
		sex.equals(_o.sex) &&
		normalizedUserId.equals(_o.normalizedUserId) &&
		mobile.equals(_o.mobile) &&
		licenseSpecificLimit1 == _o.licenseSpecificLimit1 &&
		licenseSpecificCounter2 == _o.licenseSpecificCounter2 &&
		depositMask.equals(_o.depositMask) &&
		clearedMask.equals(_o.clearedMask) &&
		overcreditMask.equals(_o.overcreditMask) &&
		vipCounter3InCents_ == _o.vipCounter3InCents_ &&
		beMoneyIn == _o.beMoneyIn &&
		beMoneyOut == _o.beMoneyOut &&
		licenseSpecificAmount3 == _o.licenseSpecificAmount3 &&
		vipStatusUntil.equals(_o.vipStatusUntil) &&
		platformsUsed == _o.platformsUsed &&
		facebookIntId == _o.facebookIntId &&
		playChips == _o.playChips &&
		blockingCode == _o.blockingCode &&
		idExtension.equals(_o.idExtension) &&
		privileges3 == _o.privileges3 &&
		cpp.equals(_o.cpp) &&
		spp.equals(_o.spp) &&
		flags3 == _o.flags3 &&
		brandsUsed == _o.brandsUsed &&
		nac2 == _o.nac2 &&
		visitedEx.equals(_o.visitedEx) &&
		regSiteId == _o.regSiteId &&
		operatorId == _o.operatorId &&
		promoName.equals(_o.promoName);
}

const char *CommonThin::AtfShared::User::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("id=");
	_buf.append(id);
	_buf.append(',');
	_buf.append("dummy=");
	_buf.append(dummy);
	_buf.append(',');
	_buf.append("privileges=");
	_buf.appendUint(privileges);
	_buf.append(',');
	_buf.append("chips_dummy=");
	_buf.appendInt(chips_dummy);
	_buf.append(',');
	_buf.append("playChips32=");
	_buf.appendInt(playChips32);
	_buf.append(',');
	_buf.append("tChips_dummy=");
	_buf.appendInt(tChips_dummy);
	_buf.append(',');
	_buf.append("wChips_dummy=");
	_buf.appendInt(wChips_dummy);
	_buf.append(',');
	_buf.append("fullName=");
	_buf.append(fullName);
	_buf.append(',');
	_buf.append("email=");
	_buf.append(email);
	_buf.append(',');
	_buf.append("addr_1=");
	_buf.append(addr_1);
	_buf.append(',');
	_buf.append("addr_2=");
	_buf.append(addr_2);
	_buf.append(',');
	_buf.append("city=");
	_buf.append(city);
	_buf.append(',');
	_buf.append("state=");
	_buf.append(state);
	_buf.append(',');
	_buf.append("country=");
	_buf.append(country);
	_buf.append(',');
	_buf.append("zipCode=");
	_buf.append(zipCode);
	_buf.append(',');
	_buf.append("userInstallId=");
	_buf.append(userInstallId);
	_buf.append(',');
	_buf.append("imageId=");
	_buf.appendUint(imageId);
	_buf.append(',');
	_buf.append("flags=");
	_buf.appendUint(flags);
	_buf.append(',');
	_buf.append("prevUserId=");
	_buf.append(prevUserId);
	_buf.append(',');
	_buf.append("fpp_=");
	_buf.appendInt(fpp_);
	_buf.append(',');
	_buf.append("ltFpp_=");
	_buf.appendInt(ltFpp_);
	_buf.append(',');
	_buf.append("unique=");
	_buf.appendInt(unique);
	_buf.append(',');
	_buf.append("registered=");
	ThinAtf::AtfTempl<SrvTime>::ToTraceString(_buf, registered);
	_buf.append(',');
	_buf.append("userIntId=");
	_buf.appendUint(userIntId);
	_buf.append(',');
	_buf.append("category=");
	_buf.append(category);
	_buf.append(',');
	_buf.append("phone=");
	_buf.append(phone);
	_buf.append(',');
	_buf.append("firstDeposit=");
	ThinAtf::AtfTempl<SrvTime>::ToTraceString(_buf, firstDeposit);
	_buf.append(',');
	_buf.append("hybridSiteId=");
	_buf.appendUint(hybridSiteId);
	_buf.append(',');
	_buf.append("sid=");
	_buf.append(sid);
	_buf.append(',');
	_buf.append("visited=");
	_buf.appendUint(visited);
	_buf.append(',');
	_buf.append("fppCents_=");
	_buf.appendInt(fppCents_);
	_buf.append(',');
	_buf.append("vipStatus=");
	_buf.appendInt(vipStatus);
	_buf.append(',');
	_buf.append("vipCounter1_=");
	_buf.appendInt(vipCounter1_);
	_buf.append(',');
	_buf.append("vipCounter2_=");
	_buf.appendInt(vipCounter2_);
	_buf.append(',');
	_buf.append("vipStatusSet=");
	ThinAtf::AtfTempl<SrvTime>::ToTraceString(_buf, vipStatusSet);
	_buf.append(',');
	_buf.append("firstTransfer=");
	ThinAtf::AtfTempl<SrvTime>::ToTraceString(_buf, firstTransfer);
	_buf.append(',');
	_buf.append("owedChips_dummy=");
	_buf.appendInt(owedChips_dummy);
	_buf.append(',');
	_buf.append("depositMask32=");
	_buf.appendUint(depositMask32);
	_buf.append(',');
	_buf.append("birthDate=");
	ThinAtf::AtfTempl<SrvDate>::ToTraceString(_buf, birthDate);
	_buf.append(',');
	_buf.append("locale=");
	_buf.appendUint(locale);
	_buf.append(',');
	_buf.append("privileges2=");
	_buf.appendUint64(privileges2);
	_buf.append(',');
	_buf.append("clearedMask32=");
	_buf.appendUint(clearedMask32);
	_buf.append(',');
	_buf.append("emLocale=");
	_buf.appendUint(emLocale);
	_buf.append(',');
	_buf.append("encrPwd=");
	_buf.append(encrPwd);
	_buf.append(',');
	_buf.append("timezone=");
	_buf.appendUint(timezone);
	_buf.append(',');
	_buf.append("currency_dummy=");
	_buf.append(currency_dummy);
	_buf.append(',');
	_buf.append("firstName=");
	_buf.append(firstName);
	_buf.append(',');
	_buf.append("lastName=");
	_buf.append(lastName);
	_buf.append(',');
	_buf.append("fiscalCode=");
	_buf.append(fiscalCode);
	_buf.append(',');
	_buf.append("licenseId=");
	_buf.appendUint(licenseId);
	_buf.append(',');
	_buf.append("gracePeriodUntil_dummy=");
	ThinAtf::AtfTempl<SrvTime>::ToTraceString(_buf, gracePeriodUntil_dummy);
	_buf.append(',');
	_buf.append("flags2=");
	_buf.appendUint64(flags2);
	_buf.append(',');
	_buf.append("ltFppCents_=");
	_buf.appendInt(ltFppCents_);
	_buf.append(',');
	_buf.append("vipCounter1Cents_=");
	_buf.appendInt(vipCounter1Cents_);
	_buf.append(',');
	_buf.append("vipCounter2Cents_=");
	_buf.appendInt(vipCounter2Cents_);
	_buf.append(',');
	_buf.append("adminFlags=");
	_buf.appendUint(adminFlags);
	_buf.append(',');
	_buf.append("overcreditMask64=");
	_buf.appendUint64(overcreditMask64);
	_buf.append(',');
	_buf.append("originalUserIntId=");
	_buf.appendUint(originalUserIntId);
	_buf.append(',');
	_buf.append("balance=");
	balance.toTraceString(_buf);
	_buf.append(',');
	_buf.append("depositMask64=");
	_buf.appendUint64(depositMask64);
	_buf.append(',');
	_buf.append("clearedMask64=");
	_buf.appendUint64(clearedMask64);
	_buf.append(',');
	_buf.append("sex=");
	_buf.append(sex);
	_buf.append(',');
	_buf.append("normalizedUserId=");
	_buf.append(normalizedUserId);
	_buf.append(',');
	_buf.append("mobile=");
	_buf.append(mobile);
	_buf.append(',');
	_buf.append("licenseSpecificLimit1=");
	_buf.appendInt(licenseSpecificLimit1);
	_buf.append(',');
	_buf.append("licenseSpecificCounter2=");
	_buf.appendInt(licenseSpecificCounter2);
	_buf.append(',');
	_buf.append("depositMask=");
	depositMask.toTraceString(_buf);
	_buf.append(',');
	_buf.append("clearedMask=");
	clearedMask.toTraceString(_buf);
	_buf.append(',');
	_buf.append("overcreditMask=");
	overcreditMask.toTraceString(_buf);
	_buf.append(',');
	_buf.append("vipCounter3InCents_=");
	_buf.appendInt(vipCounter3InCents_);
	_buf.append(',');
	_buf.append("beMoneyIn=");
	_buf.appendInt(beMoneyIn);
	_buf.append(',');
	_buf.append("beMoneyOut=");
	_buf.appendInt(beMoneyOut);
	_buf.append(',');
	_buf.append("licenseSpecificAmount3=");
	_buf.appendInt(licenseSpecificAmount3);
	_buf.append(',');
	_buf.append("vipStatusUntil=");
	ThinAtf::AtfTempl<SrvDate>::ToTraceString(_buf, vipStatusUntil);
	_buf.append(',');
	_buf.append("platformsUsed=");
	_buf.appendUint(platformsUsed);
	_buf.append(',');
	_buf.append("facebookIntId=");
	_buf.appendUint64(facebookIntId);
	_buf.append(',');
	_buf.append("playChips=");
	_buf.appendInt64(playChips);
	_buf.append(',');
	_buf.append("blockingCode=");
	_buf.appendUint(blockingCode);
	_buf.append(',');
	_buf.append("idExtension=");
	_buf.append(idExtension);
	_buf.append(',');
	_buf.append("privileges3=");
	_buf.appendUint64(privileges3);
	_buf.append(',');
	_buf.append("cpp=");
	cpp.toTraceString(_buf);
	_buf.append(',');
	_buf.append("spp=");
	spp.toTraceString(_buf);
	_buf.append(',');
	_buf.append("flags3=");
	_buf.appendUint64(flags3);
	_buf.append(',');
	_buf.append("brandsUsed=");
	_buf.appendUint(brandsUsed);
	_buf.append(',');
	_buf.append("nac2=");
	_buf.appendInt(nac2);
	_buf.append(',');
	_buf.append("visitedEx=");
	visitedEx.toTraceString(_buf);
	_buf.append(',');
	_buf.append("regSiteId=");
	_buf.appendUint(regSiteId);
	_buf.append(',');
	_buf.append("operatorId=");
	_buf.appendInt(operatorId);
	_buf.append(',');
	_buf.append("promoName=");
	_buf.append(promoName);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::User::composeMsg(CommMsgBody& _msg) const
{
	_msg.composeString(id);
	_msg.composeString(dummy);
	_msg.composeUINT32(privileges);
	_msg.composeINT32(chips_dummy);
	_msg.composeINT32(playChips32);
	_msg.composeINT32(tChips_dummy);
	_msg.composeINT32(wChips_dummy);
	_msg.composeString(fullName);
	_msg.composeString(email);
	_msg.composeString(addr_1);
	_msg.composeString(addr_2);
	_msg.composeString(city);
	_msg.composeString(state);
	_msg.composeString(country);
	_msg.composeString(zipCode);
	_msg.composeString(userInstallId);
	_msg.composeUINT32(imageId);
	_msg.composeUINT32(flags);
	_msg.composeString(prevUserId);
	_msg.composeINT32(fpp_);
	_msg.composeINT32(ltFpp_);
	_msg.composeINT16(unique);
	_msg.composeSrvTime(registered);
	_msg.composeUINT32(userIntId);
	_msg.composeString(category);
	_msg.composeString(phone);
	_msg.composeSrvTime(firstDeposit);
	_msg.composeUINT32(hybridSiteId);
	_msg.composeString(sid);
	_msg.composeUINT32(visited);
	_msg.composeINT32(fppCents_);
	_msg.composeINT32(vipStatus);
	_msg.composeINT32(vipCounter1_);
	_msg.composeINT32(vipCounter2_);
	_msg.composeSrvTime(vipStatusSet);
	_msg.composeSrvTime(firstTransfer);
	_msg.composeINT32(owedChips_dummy);
	_msg.composeUINT32(depositMask32);
	_msg.composeSrvDate(birthDate);
	_msg.composeUINT32(locale);
	_msg.composeUINT64(privileges2);
	_msg.composeUINT32(clearedMask32);
	_msg.composeUINT32(emLocale);
	_msg.composeString(encrPwd);
	_msg.composeUINT32(timezone);
	_msg.composeString(currency_dummy);
	_msg.composeString(firstName);
	_msg.composeString(lastName);
	_msg.composeString(fiscalCode);
	_msg.composeUINT32(licenseId);
	_msg.composeSrvTime(gracePeriodUntil_dummy);
	_msg.composeUINT64(flags2);
	_msg.composeINT16(ltFppCents_);
	_msg.composeINT16(vipCounter1Cents_);
	_msg.composeINT16(vipCounter2Cents_);
	_msg.composeUINT32(adminFlags);
	_msg.composeUINT64(overcreditMask64);
	_msg.composeUINT32(originalUserIntId);
	balance.composeMsg(_msg);
	_msg.composeUINT64(depositMask64);
	_msg.composeUINT64(clearedMask64);
	_msg.composeString(sex);
	_msg.composeString(normalizedUserId);
	_msg.composeString(mobile);
	_msg.composeINT32(licenseSpecificLimit1);
	_msg.composeINT32(licenseSpecificCounter2);
	CommMsgBody _msg0;
	depositMask.composeMsg(_msg0);
	_msg.composeMsgBody(_msg0);
	CommMsgBody _msg1;
	clearedMask.composeMsg(_msg1);
	_msg.composeMsgBody(_msg1);
	CommMsgBody _msg2;
	overcreditMask.composeMsg(_msg2);
	_msg.composeMsgBody(_msg2);
	_msg.composeINT32(vipCounter3InCents_);
	_msg.composeINT32(beMoneyIn);
	_msg.composeINT32(beMoneyOut);
	_msg.composeINT32(licenseSpecificAmount3);
	_msg.composeSrvDate(vipStatusUntil);
	_msg.composeUINT32(platformsUsed);
	_msg.composeUINT64(facebookIntId);
	_msg.composeINT64(playChips);
	_msg.composeUINT32(blockingCode);
	_msg.composeString(idExtension);
	_msg.composeUINT64(privileges3);
	CommMsgBody _msg3;
	cpp.composeMsg(_msg3);
	_msg.composeMsgBody(_msg3);
	CommMsgBody _msg4;
	spp.composeMsg(_msg4);
	_msg.composeMsgBody(_msg4);
	_msg.composeUINT64(flags3);
	_msg.composeUINT32(brandsUsed);
	_msg.composeINT32(nac2);
	CommMsgBody _msg5;
	visitedEx.composeMsg(_msg5);
	_msg5.composeUINT32(regSiteId);
	_msg.composeMsgBody(_msg5);
	CommMsgBody _msg6;
	_msg6.composeINT16(operatorId);
	_msg6.composeString(promoName);
	_msg.composeMsgBody(_msg6);
}

void CommonThin::AtfShared::User::parseMsg(CommMsgParser& _parser)
{
	_parser.parseStringP(id);
	_parser.parseStringP(dummy);
	_parser.parseUINT32(privileges);
	_parser.parseINT32(chips_dummy);
	_parser.parseINT32(playChips32);
	_parser.parseINT32(tChips_dummy);
	_parser.parseINT32(wChips_dummy);
	_parser.parseStringP(fullName);
	_parser.parseStringP(email);
	_parser.parseStringP(addr_1);
	_parser.parseStringP(addr_2);
	_parser.parseStringP(city);
	_parser.parseStringP(state);
	_parser.parseStringP(country);
	_parser.parseStringP(zipCode);
	_parser.parseStringP(userInstallId);
	_parser.parseUINT32(imageId);
	_parser.parseUINT32(flags);
	_parser.parseStringP(prevUserId);
	_parser.parseINT32(fpp_);
	_parser.parseINT32(ltFpp_);
	_parser.parseINT16(unique);
	_parser.parseSrvTime(registered);
	_parser.parseUINT32(userIntId);
	_parser.parseStringP(category);
	_parser.parseStringP(phone);
	_parser.parseSrvTime(firstDeposit);
	_parser.parseUINT32(hybridSiteId);
	_parser.parseStringP(sid);
	_parser.parseUINT32(visited);
	_parser.parseINT32(fppCents_);
	_parser.parseINT32(vipStatus);
	_parser.parseINT32(vipCounter1_);
	_parser.parseINT32(vipCounter2_);
	_parser.parseSrvTime(vipStatusSet);
	_parser.parseSrvTime(firstTransfer);
	_parser.parseINT32(owedChips_dummy);
	_parser.parseUINT32(depositMask32);
	_parser.parseSrvDate(birthDate);
	_parser.parseUINT32(locale);
	_parser.parseUINT64(privileges2);
	_parser.parseUINT32(clearedMask32);
	_parser.parseUINT32(emLocale);
	_parser.parseStringP(encrPwd);
	_parser.parseUINT32(timezone);
	_parser.parseStringP(currency_dummy);
	_parser.parseStringP(firstName);
	_parser.parseStringP(lastName);
	_parser.parseStringP(fiscalCode);
	_parser.parseUINT32(licenseId);
	_parser.parseSrvTime(gracePeriodUntil_dummy);
	_parser.parseUINT64(flags2);
	_parser.parseINT16(ltFppCents_);
	_parser.parseINT16(vipCounter1Cents_);
	_parser.parseINT16(vipCounter2Cents_);
	_parser.parseUINT32(adminFlags);
	_parser.parseUINT64(overcreditMask64);
	_parser.parseUINT32(originalUserIntId);
	balance.parseMsg(_parser);
	_parser.parseUINT64(depositMask64);
	_parser.parseUINT64(clearedMask64);
	_parser.parseStringP(sex);
	_parser.parseStringP(normalizedUserId);
	_parser.parseStringP(mobile);
	_parser.parseINT32(licenseSpecificLimit1);
	_parser.parseINT32(licenseSpecificCounter2);
	parseAnonymousMsgBody0(_parser);
	parseAnonymousMsgBody1(_parser);
	parseAnonymousMsgBody2(_parser);
	_parser.parseINT32(vipCounter3InCents_);
	_parser.parseINT32(beMoneyIn);
	_parser.parseINT32(beMoneyOut);
	_parser.parseINT32(licenseSpecificAmount3);
	_parser.parseSrvDate(vipStatusUntil);
	_parser.parseUINT32(platformsUsed);
	_parser.parseUINT64(facebookIntId);
	_parser.parseINT64(playChips);
	_parser.parseUINT32(blockingCode);
	_parser.parseStringP(idExtension);
	_parser.parseUINT64(privileges3);
	parseAnonymousMsgBody3(_parser);
	parseAnonymousMsgBody4(_parser);
	_parser.parseUINT64(flags3);
	_parser.parseUINT32(brandsUsed);
	_parser.parseINT32(nac2);
	parseAnonymousMsgBody5(_parser);
	parseAnonymousMsgBody6(_parser);
}

/*static*/ void CommonThin::AtfShared::User::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	const char *_dummy = "";
	_parser.parseStringN(_dummy, 0, "id"); size_t szId = strlen(_dummy);
	AtfValidator::validateInt(_descr, "id", szId, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "dummy"); size_t szDummy = strlen(_dummy);
	AtfValidator::validateInt(_descr, "dummy", szDummy, _checker, __FILE__, __LINE__);
	UINT32 privileges; _parser.parseUINT32(privileges);
	AtfValidator::validateInt(_descr, "privileges", privileges, _checker, __FILE__, __LINE__);
	INT32 chips_dummy; _parser.parseINT32(chips_dummy);
	AtfValidator::validateInt(_descr, "chips_dummy", chips_dummy, _checker, __FILE__, __LINE__);
	INT32 playChips32; _parser.parseINT32(playChips32);
	AtfValidator::validateInt(_descr, "playChips32", playChips32, _checker, __FILE__, __LINE__);
	INT32 tChips_dummy; _parser.parseINT32(tChips_dummy);
	AtfValidator::validateInt(_descr, "tChips_dummy", tChips_dummy, _checker, __FILE__, __LINE__);
	INT32 wChips_dummy; _parser.parseINT32(wChips_dummy);
	AtfValidator::validateInt(_descr, "wChips_dummy", wChips_dummy, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "fullName"); size_t szFullName = strlen(_dummy);
	AtfValidator::validateInt(_descr, "fullName", szFullName, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "email"); size_t szEmail = strlen(_dummy);
	AtfValidator::validateInt(_descr, "email", szEmail, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "addr_1"); size_t szAddr_1 = strlen(_dummy);
	AtfValidator::validateInt(_descr, "addr_1", szAddr_1, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "addr_2"); size_t szAddr_2 = strlen(_dummy);
	AtfValidator::validateInt(_descr, "addr_2", szAddr_2, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "city"); size_t szCity = strlen(_dummy);
	AtfValidator::validateInt(_descr, "city", szCity, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "state"); size_t szState = strlen(_dummy);
	AtfValidator::validateInt(_descr, "state", szState, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "country"); size_t szCountry = strlen(_dummy);
	AtfValidator::validateInt(_descr, "country", szCountry, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "zipCode"); size_t szZipCode = strlen(_dummy);
	AtfValidator::validateInt(_descr, "zipCode", szZipCode, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "userInstallId"); size_t szUserInstallId = strlen(_dummy);
	AtfValidator::validateInt(_descr, "userInstallId", szUserInstallId, _checker, __FILE__, __LINE__);
	UINT32 imageId; _parser.parseUINT32(imageId);
	AtfValidator::validateInt(_descr, "imageId", imageId, _checker, __FILE__, __LINE__);
	UINT32 flags; _parser.parseUINT32(flags);
	AtfValidator::validateInt(_descr, "flags", flags, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "prevUserId"); size_t szPrevUserId = strlen(_dummy);
	AtfValidator::validateInt(_descr, "prevUserId", szPrevUserId, _checker, __FILE__, __LINE__);
	INT32 fpp_; _parser.parseINT32(fpp_);
	AtfValidator::validateInt(_descr, "fpp_", fpp_, _checker, __FILE__, __LINE__);
	INT32 ltFpp_; _parser.parseINT32(ltFpp_);
	AtfValidator::validateInt(_descr, "ltFpp_", ltFpp_, _checker, __FILE__, __LINE__);
	INT16 unique; _parser.parseINT16(unique);
	AtfValidator::validateInt(_descr, "unique", unique, _checker, __FILE__, __LINE__);
	SrvTime registered; _parser.parseSrvTime(registered);
	AtfValidator::validateSrvDateTime(_descr, "registered", registered, _checker, __FILE__, __LINE__);
	UINT32 userIntId; _parser.parseUINT32(userIntId);
	AtfValidator::validateInt(_descr, "userIntId", userIntId, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "category"); size_t szCategory = strlen(_dummy);
	AtfValidator::validateInt(_descr, "category", szCategory, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "phone"); size_t szPhone = strlen(_dummy);
	AtfValidator::validateInt(_descr, "phone", szPhone, _checker, __FILE__, __LINE__);
	SrvTime firstDeposit; _parser.parseSrvTime(firstDeposit);
	AtfValidator::validateSrvDateTime(_descr, "firstDeposit", firstDeposit, _checker, __FILE__, __LINE__);
	UINT32 hybridSiteId; _parser.parseUINT32(hybridSiteId);
	AtfValidator::validateInt(_descr, "hybridSiteId", hybridSiteId, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "sid"); size_t szSid = strlen(_dummy);
	AtfValidator::validateInt(_descr, "sid", szSid, _checker, __FILE__, __LINE__);
	UINT32 visited; _parser.parseUINT32(visited);
	AtfValidator::validateInt(_descr, "visited", visited, _checker, __FILE__, __LINE__);
	INT32 fppCents_; _parser.parseINT32(fppCents_);
	AtfValidator::validateInt(_descr, "fppCents_", fppCents_, _checker, __FILE__, __LINE__);
	INT32 vipStatus; _parser.parseINT32(vipStatus);
	AtfValidator::validateInt(_descr, "vipStatus", vipStatus, _checker, __FILE__, __LINE__);
	INT32 vipCounter1_; _parser.parseINT32(vipCounter1_);
	AtfValidator::validateInt(_descr, "vipCounter1_", vipCounter1_, _checker, __FILE__, __LINE__);
	INT32 vipCounter2_; _parser.parseINT32(vipCounter2_);
	AtfValidator::validateInt(_descr, "vipCounter2_", vipCounter2_, _checker, __FILE__, __LINE__);
	SrvTime vipStatusSet; _parser.parseSrvTime(vipStatusSet);
	AtfValidator::validateSrvDateTime(_descr, "vipStatusSet", vipStatusSet, _checker, __FILE__, __LINE__);
	SrvTime firstTransfer; _parser.parseSrvTime(firstTransfer);
	AtfValidator::validateSrvDateTime(_descr, "firstTransfer", firstTransfer, _checker, __FILE__, __LINE__);
	INT32 owedChips_dummy; _parser.parseINT32(owedChips_dummy);
	AtfValidator::validateInt(_descr, "owedChips_dummy", owedChips_dummy, _checker, __FILE__, __LINE__);
	UINT32 depositMask32; _parser.parseUINT32(depositMask32);
	AtfValidator::validateInt(_descr, "depositMask32", depositMask32, _checker, __FILE__, __LINE__);
	SrvDate birthDate; _parser.parseSrvDate(birthDate);
	AtfValidator::validateSrvDateTime(_descr, "birthDate", birthDate, _checker, __FILE__, __LINE__);
	UINT32 locale; _parser.parseUINT32(locale);
	AtfValidator::validateInt(_descr, "locale", locale, _checker, __FILE__, __LINE__);
	UINT64 privileges2; _parser.parseUINT64(privileges2);
	AtfValidator::validateUint(_descr, "privileges2", privileges2, _checker, __FILE__, __LINE__);
	UINT32 clearedMask32; _parser.parseUINT32(clearedMask32);
	AtfValidator::validateInt(_descr, "clearedMask32", clearedMask32, _checker, __FILE__, __LINE__);
	UINT32 emLocale; _parser.parseUINT32(emLocale);
	AtfValidator::validateInt(_descr, "emLocale", emLocale, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "encrPwd"); size_t szEncrPwd = strlen(_dummy);
	AtfValidator::validateInt(_descr, "encrPwd", szEncrPwd, _checker, __FILE__, __LINE__);
	UINT32 timezone; _parser.parseUINT32(timezone);
	AtfValidator::validateInt(_descr, "timezone", timezone, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "currency_dummy"); size_t szCurrency_dummy = strlen(_dummy);
	AtfValidator::validateInt(_descr, "currency_dummy", szCurrency_dummy, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "firstName"); size_t szFirstName = strlen(_dummy);
	AtfValidator::validateInt(_descr, "firstName", szFirstName, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "lastName"); size_t szLastName = strlen(_dummy);
	AtfValidator::validateInt(_descr, "lastName", szLastName, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "fiscalCode"); size_t szFiscalCode = strlen(_dummy);
	AtfValidator::validateInt(_descr, "fiscalCode", szFiscalCode, _checker, __FILE__, __LINE__);
	UINT32 licenseId; _parser.parseUINT32(licenseId);
	AtfValidator::validateInt(_descr, "licenseId", licenseId, _checker, __FILE__, __LINE__);
	SrvTime gracePeriodUntil_dummy; _parser.parseSrvTime(gracePeriodUntil_dummy);
	AtfValidator::validateSrvDateTime(_descr, "gracePeriodUntil_dummy", gracePeriodUntil_dummy, _checker, __FILE__, __LINE__);
	UINT64 flags2; _parser.parseUINT64(flags2);
	AtfValidator::validateUint(_descr, "flags2", flags2, _checker, __FILE__, __LINE__);
	INT16 ltFppCents_; _parser.parseINT16(ltFppCents_);
	AtfValidator::validateInt(_descr, "ltFppCents_", ltFppCents_, _checker, __FILE__, __LINE__);
	INT16 vipCounter1Cents_; _parser.parseINT16(vipCounter1Cents_);
	AtfValidator::validateInt(_descr, "vipCounter1Cents_", vipCounter1Cents_, _checker, __FILE__, __LINE__);
	INT16 vipCounter2Cents_; _parser.parseINT16(vipCounter2Cents_);
	AtfValidator::validateInt(_descr, "vipCounter2Cents_", vipCounter2Cents_, _checker, __FILE__, __LINE__);
	UINT32 adminFlags; _parser.parseUINT32(adminFlags);
	AtfValidator::validateInt(_descr, "adminFlags", adminFlags, _checker, __FILE__, __LINE__);
	UINT64 overcreditMask64; _parser.parseUINT64(overcreditMask64);
	AtfValidator::validateUint(_descr, "overcreditMask64", overcreditMask64, _checker, __FILE__, __LINE__);
	UINT32 originalUserIntId; _parser.parseUINT32(originalUserIntId);
	AtfValidator::validateInt(_descr, "originalUserIntId", originalUserIntId, _checker, __FILE__, __LINE__);
	PString _descbuf;
	UserCurrencyAccounts::validateMsg(_parser, _checker, _descbuf.assign(_descr).append('.').append("balance"), _fieldsWithUnparsedContent);
	UINT64 depositMask64; _parser.parseUINT64(depositMask64);
	AtfValidator::validateUint(_descr, "depositMask64", depositMask64, _checker, __FILE__, __LINE__);
	UINT64 clearedMask64; _parser.parseUINT64(clearedMask64);
	AtfValidator::validateUint(_descr, "clearedMask64", clearedMask64, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "sex"); size_t szSex = strlen(_dummy);
	AtfValidator::validateInt(_descr, "sex", szSex, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "normalizedUserId"); size_t szNormalizedUserId = strlen(_dummy);
	AtfValidator::validateInt(_descr, "normalizedUserId", szNormalizedUserId, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "mobile"); size_t szMobile = strlen(_dummy);
	AtfValidator::validateInt(_descr, "mobile", szMobile, _checker, __FILE__, __LINE__);
	INT32 licenseSpecificLimit1; _parser.parseINT32(licenseSpecificLimit1);
	AtfValidator::validateInt(_descr, "licenseSpecificLimit1", licenseSpecificLimit1, _checker, __FILE__, __LINE__);
	INT32 licenseSpecificCounter2; _parser.parseINT32(licenseSpecificCounter2);
	AtfValidator::validateInt(_descr, "licenseSpecificCounter2", licenseSpecificCounter2, _checker, __FILE__, __LINE__);
	validateAnonymousMsgBody0(_parser, _checker, _descr, _fieldsWithUnparsedContent);
	validateAnonymousMsgBody1(_parser, _checker, _descr, _fieldsWithUnparsedContent);
	validateAnonymousMsgBody2(_parser, _checker, _descr, _fieldsWithUnparsedContent);
	INT32 vipCounter3InCents_; _parser.parseINT32(vipCounter3InCents_);
	AtfValidator::validateInt(_descr, "vipCounter3InCents_", vipCounter3InCents_, _checker, __FILE__, __LINE__);
	INT32 beMoneyIn; _parser.parseINT32(beMoneyIn);
	AtfValidator::validateInt(_descr, "beMoneyIn", beMoneyIn, _checker, __FILE__, __LINE__);
	INT32 beMoneyOut; _parser.parseINT32(beMoneyOut);
	AtfValidator::validateInt(_descr, "beMoneyOut", beMoneyOut, _checker, __FILE__, __LINE__);
	INT32 licenseSpecificAmount3; _parser.parseINT32(licenseSpecificAmount3);
	AtfValidator::validateInt(_descr, "licenseSpecificAmount3", licenseSpecificAmount3, _checker, __FILE__, __LINE__);
	SrvDate vipStatusUntil; _parser.parseSrvDate(vipStatusUntil);
	AtfValidator::validateSrvDateTime(_descr, "vipStatusUntil", vipStatusUntil, _checker, __FILE__, __LINE__);
	UINT32 platformsUsed; _parser.parseUINT32(platformsUsed);
	AtfValidator::validateInt(_descr, "platformsUsed", platformsUsed, _checker, __FILE__, __LINE__);
	UINT64 facebookIntId; _parser.parseUINT64(facebookIntId);
	AtfValidator::validateUint(_descr, "facebookIntId", facebookIntId, _checker, __FILE__, __LINE__);
	INT64 playChips; _parser.parseINT64(playChips);
	AtfValidator::validateInt(_descr, "playChips", playChips, _checker, __FILE__, __LINE__);
	UINT32 blockingCode; _parser.parseUINT32(blockingCode);
	AtfValidator::validateInt(_descr, "blockingCode", blockingCode, _checker, __FILE__, __LINE__);
	_parser.parseStringN(_dummy, 0, "idExtension"); size_t szIdExtension = strlen(_dummy);
	AtfValidator::validateInt(_descr, "idExtension", szIdExtension, _checker, __FILE__, __LINE__);
	UINT64 privileges3; _parser.parseUINT64(privileges3);
	AtfValidator::validateUint(_descr, "privileges3", privileges3, _checker, __FILE__, __LINE__);
	validateAnonymousMsgBody3(_parser, _checker, _descr, _fieldsWithUnparsedContent);
	validateAnonymousMsgBody4(_parser, _checker, _descr, _fieldsWithUnparsedContent);
	UINT64 flags3; _parser.parseUINT64(flags3);
	AtfValidator::validateUint(_descr, "flags3", flags3, _checker, __FILE__, __LINE__);
	UINT32 brandsUsed; _parser.parseUINT32(brandsUsed);
	AtfValidator::validateInt(_descr, "brandsUsed", brandsUsed, _checker, __FILE__, __LINE__);
	INT32 nac2; _parser.parseINT32(nac2);
	AtfValidator::validateInt(_descr, "nac2", nac2, _checker, __FILE__, __LINE__);
	validateAnonymousMsgBody5(_parser, _checker, _descr, _fieldsWithUnparsedContent);
	validateAnonymousMsgBody6(_parser, _checker, _descr, _fieldsWithUnparsedContent);
}

void CommonThin::AtfShared::User::parseAnonymousMsgBody0(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	depositMask.parseMsg(_parser0);
}

/*static*/ void CommonThin::AtfShared::User::validateAnonymousMsgBody0(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	PString _descbuf;
	PaysystemMask::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("depositMask"), _fieldsWithUnparsedContent);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

void CommonThin::AtfShared::User::parseAnonymousMsgBody1(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	clearedMask.parseMsg(_parser0);
}

/*static*/ void CommonThin::AtfShared::User::validateAnonymousMsgBody1(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	PString _descbuf;
	PaysystemMask::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("clearedMask"), _fieldsWithUnparsedContent);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

void CommonThin::AtfShared::User::parseAnonymousMsgBody2(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	overcreditMask.parseMsg(_parser0);
}

/*static*/ void CommonThin::AtfShared::User::validateAnonymousMsgBody2(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	PString _descbuf;
	PaysystemMask::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("overcreditMask"), _fieldsWithUnparsedContent);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

void CommonThin::AtfShared::User::parseAnonymousMsgBody3(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	cpp.parseMsg(_parser0);
}

/*static*/ void CommonThin::AtfShared::User::validateAnonymousMsgBody3(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	PString _descbuf;
	PlayerPointsProgram::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("cpp"), _fieldsWithUnparsedContent);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

void CommonThin::AtfShared::User::parseAnonymousMsgBody4(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	spp.parseMsg(_parser0);
}

/*static*/ void CommonThin::AtfShared::User::validateAnonymousMsgBody4(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	PString _descbuf;
	PlayerPointsProgram::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("spp"), _fieldsWithUnparsedContent);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

void CommonThin::AtfShared::User::parseAnonymousMsgBody5(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	visitedEx.parseMsg(_parser0);
	if(_parser0.parseEnded()) return;
	_parser0.parseUINT32(regSiteId);
}

/*static*/ void CommonThin::AtfShared::User::validateAnonymousMsgBody5(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	PString _descbuf;
	PSiteMask::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("visitedEx"), _fieldsWithUnparsedContent);
	if(_parser0.parseEnded()) return;
	UINT32 regSiteId; _parser0.parseUINT32(regSiteId);
	AtfValidator::validateInt(_descr, "regSiteId", regSiteId, _checker, __FILE__, __LINE__);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

void CommonThin::AtfShared::User::parseAnonymousMsgBody6(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	_parser0.parseINT16(operatorId);
	_parser0.parseStringP(promoName);
}

/*static*/ void CommonThin::AtfShared::User::validateAnonymousMsgBody6(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	const char *_dummy = "";
	INT16 operatorId; _parser0.parseINT16(operatorId);
	AtfValidator::validateInt(_descr, "operatorId", operatorId, _checker, __FILE__, __LINE__);
	_parser0.parseStringN(_dummy, 0, "promoName"); size_t szPromoName = strlen(_dummy);
	AtfValidator::validateInt(_descr, "promoName", szPromoName, _checker, __FILE__, __LINE__);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

//=================================================================
//                    UserWithProperties
//=================================================================

CommonThin::AtfShared::UserWithProperties::UserWithProperties()
{
	clear();
}

#ifdef MOVE_CONSTRUCTOR_SUPPORTED

CommonThin::AtfShared::UserWithProperties::UserWithProperties(UserWithProperties&& _o)
	: user(std::move(_o.user))
	, userProps(std::move(_o.userProps))
{
}

CommonThin::AtfShared::UserWithProperties& CommonThin::AtfShared::UserWithProperties::operator=(UserWithProperties&& _o)
{
	if(this != &_o)
	{
		user = std::move(_o.user);
		userProps = std::move(_o.userProps);
	}
	return *this;
}

#endif

void CommonThin::AtfShared::UserWithProperties::clear()
{
	user.clear();
	userProps.clear();
}

bool CommonThin::AtfShared::UserWithProperties::equals(const UserWithProperties& _o) const
{
	return user.equals(_o.user) &&
		userProps.equals(_o.userProps);
}

const char *CommonThin::AtfShared::UserWithProperties::toTraceString(PString& _buf) const
{
	_buf.append('{');
	_buf.append("user=");
	user.toTraceString(_buf);
	_buf.append(',');
	_buf.append("userProps=");
	userProps.toTraceString(_buf);
	_buf.append('}');
	return _buf.c_str();
}

void CommonThin::AtfShared::UserWithProperties::composeMsg(CommMsgBody& _msg) const
{
	CommMsgBody _msg0;
	user.composeMsg(_msg0);
	_msg.composeMsgBody(_msg0);
	CommMsgBody _msg1;
	userProps.composeMsg(_msg1);
	_msg.composeMsgBody(_msg1);
}

void CommonThin::AtfShared::UserWithProperties::parseMsg(CommMsgParser& _parser)
{
	parseAnonymousMsgBody0(_parser);
	parseAnonymousMsgBody1(_parser);
}

/*static*/ void CommonThin::AtfShared::UserWithProperties::validateMsg(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	validateAnonymousMsgBody0(_parser, _checker, _descr, _fieldsWithUnparsedContent);
	validateAnonymousMsgBody1(_parser, _checker, _descr, _fieldsWithUnparsedContent);
}

void CommonThin::AtfShared::UserWithProperties::parseAnonymousMsgBody0(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	user.parseMsg(_parser0);
}

/*static*/ void CommonThin::AtfShared::UserWithProperties::validateAnonymousMsgBody0(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	PString _descbuf;
	User::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("user"), _fieldsWithUnparsedContent);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

void CommonThin::AtfShared::UserWithProperties::parseAnonymousMsgBody1(CommMsgParser& _parser)
{
	CommMsgBody _body;
	_parser.parseMsgBody(_body);
	CommMsgParser _parser0(_body);
	userProps.parseMsg(_parser0);
}

/*static*/ void CommonThin::AtfShared::UserWithProperties::validateAnonymousMsgBody1(CommMsgParser& _parser, const AtfMsgChecker* _checker, const char* _descr, PString& _fieldsWithUnparsedContent)
{
	AtfMsgBodyParserView _parser0(_parser);
	_parser.skipMsgBody();
	PString _descbuf;
	int szUserProps = ThinAtf::LAtfVector< UserPropertyLegacy, 4 >::validateMsg(_parser0, _checker, _descbuf.assign(_descr).append('.').append("userProps"), _fieldsWithUnparsedContent);
	AtfValidator::validateInt(_descr, "userProps", szUserProps, _checker, __FILE__, __LINE__);
	AtfValidator::validateEmbeddedMsgbodyParser(_descr, _parser0, _parser._shift(), __FILE__, __LINE__);
	if(!_parser0.parseEnded()) AtfValidator::logUnparsedInfo(_fieldsWithUnparsedContent, _descr, _parser0);
}

