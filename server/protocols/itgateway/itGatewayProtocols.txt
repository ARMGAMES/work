#include "UserDefStructs.h"
#include "aamsgateway.h"


#define TOP_LEVEL_NAMESPACE ItGateway

namespace SwModules
{
	enum eProductCategory
	{ 
		eProductCategory_Undefined = 0,
		eProductCategory_Poker = 1,
		eProductCategory_Casino = 2,
	};
	
	enum eReportStatus
	{
		eReportStatus_Undefined = 0,
		eReportStatus_NoError = 1,
		eReportStatus_ErrorReceived = 2,
		eReportStatus_NotSent = 3,
	};
	
	Message IT_Q_GET_SW_MODULES
	{
		// empty
	};

	MsgBodyStruct Module
	{
		PString sha1;
		PString filename;
	};
	
	MsgBodyStruct SwModule
	{
		UINT32 productCategory; // enum eProductCategory
		bool active;
		UINT32 code;
		UINT32 type;
		PString name;
		UINT32 version;
		UINT32 subVersion;
		UINT32 lastReportStatus; // enum eReportStatus
		vector<Module> modules;
	};
	
	Message IT_A_GET_SW_MODULES
	{
		INT16 errCode;
		if (errCode != 0)
		{
			PString errString;
		}
		else
		{
			vector<SwModule> swModules;
		}
	};
	
	MsgBodyStruct ModuleVersion
	{
		UINT32 type;
		UINT32 code;
		UINT32 newVersion;
		UINT32 newSubVersion;
		PString adminComment;
	};
	
	Message IT_Q_UPDATE_SW_MODULES_VER
	{
		vector<ModuleVersion> modulesToUpdate;
	};
	
	Message IT_A_UPDATE_SW_MODULES_VER
	{
		INT16 errCode;
		if (errCode != 0)
		{
			PString aggregatedErrorDescr;
		}
	};
};

